System.register("chunks:///_virtual/AcceleratedSpinningReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WReel.ts","./WReelFeature.ts"],(function(e){"use strict";var t,n,r,i,a,c,o,s,l,u,E,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){o=e.cclegacy,s=e._decorator,l=e.Vec3,u=e.tween},function(e){E=e.REEL_STATE},function(e){N=e.WReelFeature}],execute:function(){var p,A,T,_;e("FEATURE_REEL_STATE",void 0),o._RF.push({},"33c6dZLv25EULIdGb1KOOec","AcceleratedSpinningReel",void 0);var f,R=s.ccclass,D=s.property;!function(e){e[e.IDLE=0]="IDLE",e[e.SPINNING=1]="SPINNING",e[e.ON_NEARWIN=2]="ON_NEARWIN",e[e.OFF_NEARWIN_BONUS_AND_STOPPED=3]="OFF_NEARWIN_BONUS_AND_STOPPED",e[e.OFF_NEARWIN_SCATTER_AND_STOPPED=4]="OFF_NEARWIN_SCATTER_AND_STOPPED",e[e.OFF_NEARWIN_AND_SPINNING=5]="OFF_NEARWIN_AND_SPINNING",e[e.STOP=6]="STOP",e[e.ACCELERATED=7]="ACCELERATED",e[e.DECELERATED=8]="DECELERATED"}(f||(f=e("FEATURE_REEL_STATE",{})));e("AcceleratedSpinningReel",R("AcceleratedSpinningReel")((T=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=e.call.apply(e,[this].concat(a))||this,r(t,"accelerationTime",T,i(t)),r(t,"decelerationTime",_,i(t)),t.state=f.IDLE,t}n(t,e);var o=t.prototype;return o.spin=function(){var e=a(c().mark((function e(t){var n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:t.state==E.SPINNING&&this.state==f.SPINNING&&(n=t.velocity.clone(),l.zero(t.velocity),u(t.velocity).call((function(){r.state=f.ACCELERATED})).to(this.accelerationTime,n).call((function(){r.state=f.IDLE,t.velocity=n})).start());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.setState=function(e){this.enabled&&e&&(this.state=e.state)},o.stop=function(){var e=a(c().mark((function e(t){var n,r=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:t.state==E.STOP&&this.state==f.STOP&&(n=l.ZERO.clone(),u(t.velocity).call((function(){r.state=f.DECELERATED})).to(this.decelerationTime,n).call((function(){r.state=f.IDLE,t.velocity=n})).start());case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(N)).prototype,"accelerationTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=t(A.prototype,"decelerationTime",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),p=A))||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/AutoButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./WAuto.ts","./Helper.ts"],(function(t){"use strict";var e,n,o,i,u,a,r,s,c,l,h,b,p,A,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,a=t._decorator,r=t.Button,s=t.EventHandler,c=t.Node,l=t.Label,h=t.Sprite,b=t.Component},function(t){p=t.WAudioManager},function(t){A=t.AUTO_TYPE},function(t){f=t.Helper}],execute:function(){var S,I,v,d,N,T,g,y,_,E,m,B,D,w,O,z,P;u._RF.push({},"5e177m1NxBFE7JTkVhdZ51a","AutoButton",void 0);var C=a.ccclass,k=a.property,H=t("AUTO_BUTTON_STATE",{INIT:0,IDLE:1,WAITING_FOR_DATA:2,SPINNING:3,SPINNING_AUTO:4,STOP:5,SHOW_RESULT:6,FINISH_FREE_SPIN:7});t("AutoButton",(S=C("AutoButton"),I=k(r),v=k(s),d=k(r),N=k(s),T=k(c),g=k(l),y=k(h),S((m=e((E=function(t){function e(){for(var e,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=t.call.apply(t,[this].concat(u))||this,o(e,"btnAuto",m,i(e)),o(e,"touchAutoEvent",B,i(e)),o(e,"btnStopAuto",D,i(e)),o(e,"touchStopAutoEvent",w,i(e)),o(e,"pnlInfo",O,i(e)),o(e,"lbInfo",z,i(e)),o(e,"sprInfinity",P,i(e)),e._state=void 0,e._autoData=Object.create(null),e}n(e,t);var u=e.prototype;return u.start=function(){this.setInitState()},u.setStateWithAutoData=function(t){switch(t.autoType){case A.NO_AUTO:this.btnAuto.node.active=!0,this.btnStopAuto.node.active=!1,this.lbInfo.string="";break;case A.BASIC:case A.BOTH:this.btnAuto.node.active=!1,this.btnStopAuto.node.active=!0,this.lbInfo.string=t.autoCount>0?f.formatNumberToShort(t.autoCount):"";break;case A.ADVANCE:this.btnAuto.node.active=!1,this.btnStopAuto.node.active=!0,this.lbInfo.string=""}},u.updateStateByAutoCount=function(t){this.btnAuto.node.active=0==t,this.btnStopAuto.node.active=0!=t,this.lbInfo.string=t>0?f.formatNumberToShort(t):""},u.setInitState=function(){this.setIdleState(),this.btnAuto.interactable=!1},u.setIdleState=function(){this.btnAuto.node.active=!0,this.btnAuto.interactable=!0,this.btnStopAuto.node.active=!1,this.lbInfo.string=""},u.setSpinningState=function(){this.setIdleState(),this.btnAuto.interactable=!1},u.touchBtnAuto=function(){p.inst.playTouchButton(),this.touchAutoEvent&&this.touchAutoEvent.emit([])},u.touchBtnStopAuto=function(){p.inst.playTouchButton(),this.touchStopAutoEvent&&this.touchStopAutoEvent.emit([])},u.setAutoData=function(t){t&&(this._autoData=t)},u.setState=function(t){this._state=t,this.onStateChange()},u.onStateChange=function(){switch(this._state){case H.INIT:this.setInitState();break;case H.IDLE:this.setIdleState();break;case H.SPINNING_AUTO:this.setStateWithAutoData(this._autoData);break;case H.SPINNING:this.setSpinningState()}},e}(b)).prototype,"btnAuto",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(E.prototype,"touchAutoEvent",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),D=e(E.prototype,"btnStopAuto",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(E.prototype,"touchStopAutoEvent",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),O=e(E.prototype,"pnlInfo",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(E.prototype,"lbInfo",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(E.prototype,"sprInfinity",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=E))||_));u._RF.pop()}}}));

System.register("chunks:///_virtual/BitfarmDataType.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){var e,n,i;t("BONUS_SYMBOLS",void 0),c._RF.push({},"3a320aMeQ9GwbW1Bxzt6M0h","BitfarmDataType",void 0),function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z",t[t.A=3]="A",t[t.B=4]="B",t[t.C=5]="C",t[t.D=6]="D",t[t.E=7]="E",t[t.F=8]="F",t[t.G=9]="G",t[t.H=10]="H"}(e||(e={})),function(t){t[t.X=0]="X",t[t.A=1]="A",t[t.B=2]="B",t[t.C=3]="C",t[t.D=4]="D",t[t.E=5]="E",t[t.F=6]="F",t[t.G=7]="G",t[t.H=8]="H"}(n||(n={})),function(t){t[t.C=0]="C",t[t.B=1]="B",t[t.G=2]="G"}(i||(i=t("BONUS_SYMBOLS",{}))),c._RF.pop()}}}));

System.register("chunks:///_virtual/BonusController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./CountingNumberSimple.ts","./Timer.ts","./Config.ts","./BonusRateBox.ts","./PrizeBox.ts","./WPopup.ts","./WPopupIntro.ts","./WTotalPrize.ts","./WNetworkManager.ts","./Helper.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,u,l,p,c,h,f,m,b,g,d,_,C,x,B,P,v,z,T,R,w,O,E,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,l=t.Node,p=t.Prefab,c=t.Label,h=t.Vec3,f=t.Sprite,m=t.instantiate,b=t.Component},function(t){g=t.WAudioManager},function(t){d=t.CountingNumberSimple},function(t){_=t.Timer},function(t){C=t.BONUS_PRIZE_COUNT,x=t.BONUS_RATE_COUNT,B=t.W_GAME_ACTION,P=t.GAME_ID},function(t){v=t.BonusRateBox},function(t){z=t.PrizeBox,T=t.PRIZE_BOX_STATE},function(t){R=t.WPopup},function(t){w=t.WPopupIntro},function(t){O=t.WTotalPrize},function(t){E=t.WNetworkManager},function(t){y=t.Helper}],execute:function(){var D,N,A,W,L,I,S,G,M,U,k,F,H,Z,V,X,q,j,J,K,Q,Y,$,tt,et,nt,ot;s._RF.push({},"c03752mLzVHvIyLcFzMRnm7","BonusController",void 0);var it=u.ccclass,rt=u.property,at=t("BONUS_STATE",{OPEN_PRIZE:0,OPEN_RATE:1});t("BonusController",(D=it("BonusController"),N=rt(l),A=rt(l),W=rt(l),L=rt(l),I=rt(p),S=rt(l),G=rt(l),M=rt(p),U=rt(p),k=rt(c),F=rt(h),H=rt(f),D((X=e((V=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"pnlChoosePrize",X,i(e)),o(e,"pnlChooseRate",q,i(e)),o(e,"pnlTotalPrize",j,i(e)),o(e,"pnlResult",J,i(e)),o(e,"popupResult",K,i(e)),o(e,"pnlPrize",Q,i(e)),o(e,"pnlRate",Y,i(e)),o(e,"prizeBox",$,i(e)),o(e,"rateBox",tt,i(e)),o(e,"lbTimer",et,i(e)),o(e,"posForRateMove",nt,i(e)),o(e,"sprChooseMultiple",ot,i(e)),e._roomId=0,e._przBoxList=[],e._rateBoxList=[],e._totalWin=0,e._state=void 0,e.spinData=void 0,e.openPrizeDone=void 0,e.openRateDone=void 0,e.bonusGameDone=void 0,e}n(e,t);var s=e.prototype;return s.setState=function(t){this._state=t},s.start=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.updateTotalWin(0),this.pnlChoosePrize.active=!1,this.pnlChooseRate.active=!1,this.pnlResult.active=!1,t.next=6,this.addPrize();case 6:return this.showPrize(),this.setState(at.OPEN_PRIZE),t.next=10,this.waitToOpenBox();case 10:return console.log("OPEN BOX DONE"),t.next=13,y.asyncDelay(2);case 13:return t.next=15,this.addRate();case 15:return this.showRate(),this.setState(at.OPEN_RATE),t.next=19,this.waitToOpenRate();case 19:return console.log("OPEN RATE DONE"),t.next=22,this.showOutro();case 22:console.log("OPEN AND CLOSE POPUP OUTRO DONE"),this.bonusGameDone&&this.bonusGameDone(this.spinData);case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.addPrize=function(){for(var t=0;t<C;++t){var e=m(this.prizeBox);e.getComponent(z).parent=this.node,e.getComponent(z).id=t,this._przBoxList.push(e),this.pnlPrize.addChild(e)}return Promise.resolve()},s.showPrize=function(){var t=this;this.pnlChoosePrize.active=!0,this.pnlChooseRate.active=!1,this.spinData.bet.betData.bonus.openedChests.forEach((function(e){if(e){var n=t._przBoxList.findIndex((function(t){return t.getComponent(z).id==e.openedCell})),o=t._przBoxList[n].getComponent(z),i=e.winRate*t.getBetAmount();o.showPrize(i),t._totalWin+=i,t._przBoxList.splice(n,1)}})),this.updateTotalWin(this._totalWin)},s.waitToOpenBox=function(){var t=this;return new Promise((function(e){t.openPrizeDone=e}))},s.addRate=function(){for(var t=0;t<x;++t){var e=m(this.rateBox);e.getComponent(v).parent=this.node,e.getComponent(v).id=t,this._rateBoxList.push(e),this.pnlRate.addChild(e)}return Promise.resolve()},s.showRate=function(){this.pnlChoosePrize.active=!1,this.pnlChooseRate.active=!0,y.animateScaleUp(this.pnlChooseRate,1.2,.1,1,0)},s.waitToOpenRate=function(){var t=this;return this.lbTimer.getComponent(_).resetTimer(),new Promise((function(e){t.openRateDone=e}))},s.showOutro=function(){var t=r(a().mark((function t(){var e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.inst.playEffect("sfx_bonus_end"),this.lbTimer.getComponent(_).stopTimer(),this.pnlResult.active=!0,e=m(this.popupResult),this.pnlResult.addChild(e),e.getComponent(d).updateTargetValue(this._totalWin),e.getComponent(d).startCounting(5),e.getComponent(w).playAnimIntro(),g.inst.playClip("sfx_bonus_end",!1),g.inst.playEffect("sfx_coin_drop",!0),t.next=12,e.getComponent(R).showing();case 12:g.inst.stopClip(!0),g.inst.stopEffectByName("sfx_coin_drop",!0);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.touchBox=function(){var t=r(a().mark((function t(e){var n,o,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestOpenGift(e);case 2:return n=t.sent,o=n.bet.betData.bonus.openedChests,i=o[o.length-1].winRate*this.getBetAmount(),console.log("TOUCH BOX - "+e+": "+i),0==i&&this.deactiveAllBoxes(),t.abrupt("return",i);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.openAllOpeningBoxes=function(){this._przBoxList.forEach((function(t){if(t){var e=t.getComponent(z);e.getState()==T.OPENING&&e.setState(T.QUICK_OPEN)}}))},s.openBox=function(t,e){if(console.log("OPEN BOX: "+e),0==e)return g.inst.playEffect("sfx_open_fail"),this.lbTimer.getComponent(_).stopTimer(),void(this.openPrizeDone&&this.openPrizeDone());g.inst.playEffect("sfx_open_coin"),this._totalWin+=e,this.updateTotalWin(this._totalWin);var n=this._przBoxList.findIndex((function(e){return e.getComponent(z).id==t}));this._przBoxList.splice(n,1),this.lbTimer.getComponent(_).resetTimer()},s.openRate=function(t,e,n){this.lbTimer.getComponent(_).resetTimer(),this._totalWin=n,this.updateTotalWin(this._totalWin),this.deactiveAllRates(),this.openRateDone&&this.openRateDone()},s.setBonusData=function(t){this.spinData=t},s.updateTotalWin=function(t){this._totalWin=t,console.log("TOTAL WIN: "+this._totalWin),this.pnlTotalPrize.getComponent(O).updateTotalPrize(t)},s.deactiveAllBoxes=function(){this.lbTimer.getComponent(_).stopTimer(),this._przBoxList.forEach((function(t){t.getComponent(z).setState(T.DEACTIVE)}))},s.deactiveAllRates=function(){this._rateBoxList.forEach((function(t){t.getComponent(v).btnBox.interactable=!1}))},s.finishAuto=function(){var t=r(a().mark((function t(){var e,n,o,i,r,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._state==at.OPEN_PRIZE?(e=y.randomRange(0,this._przBoxList.length-1),(n=this._przBoxList[e]).getComponent(z).btnBox.interactable&&(null==(o=n.getComponent(z))||o.touchBox())):(r=y.randomRange(0,this._rateBoxList.length-1),(s=this._rateBoxList[r]).getComponent(v).btnBox.interactable&&(null==(i=s.getComponent(v))||i.touchBox()));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.finishBonusGame=function(){var t=this;return new Promise((function(e){t.bonusGameDone=e}))},s.requestOpenGift=function(){var t=r(a().mark((function t(e){var n,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={gameId:P,cell:e},t.next=3,E.instance.request(B.OPEN_GIFT,n);case 3:return o=t.sent,console.log("OPEN GIFT DATA: "+JSON.stringify(o)),this.spinData=o,t.abrupt("return",o);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.getBetAmount=function(){return this.spinData.bet.betAmount},e}(b)).prototype,"pnlChoosePrize",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(V.prototype,"pnlChooseRate",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(V.prototype,"pnlTotalPrize",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(V.prototype,"pnlResult",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=e(V.prototype,"popupResult",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(V.prototype,"pnlPrize",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=e(V.prototype,"pnlRate",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=e(V.prototype,"prizeBox",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),tt=e(V.prototype,"rateBox",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),et=e(V.prototype,"lbTimer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),nt=e(V.prototype,"posForRateMove",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ot=e(V.prototype,"sprChooseMultiple",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=V))||Z));s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusRateBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./BonusController.ts","./Helper.ts"],(function(e){"use strict";var t,n,r,o,i,a,s,u,c,l,p,f,h,m,x,B,v,b,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,u=e._decorator,c=e.Button,l=e.sp,p=e.Label,f=e.Node,h=e.Component,m=e.Vec2,x=e.tween,B=e.v3},function(e){v=e.WAudioManager},function(e){b=e.BonusController},function(e){d=e.Helper}],execute:function(){var y,g,R,w,T,z,A,C,P,O,k;s._RF.push({},"0dfd6I6BB1E6Ydf0HHEgQf9","BonusRateBox",void 0);var D=u.ccclass,_=u.property;e("BonusRateBox",(y=D("BonusRateBox"),g=_(c),R=_(l.Skeleton),w=_(p),T=_(f),y((C=t((A=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=e.call.apply(e,[this].concat(i))||this,r(t,"btnBox",C,o(t)),r(t,"animBox",P,o(t)),r(t,"lbPrize",O,o(t)),r(t,"pnlRate",k,o(t)),t.id=void 0,t.parent=null,t}n(t,e);var s=t.prototype;return s.start=function(){this.pnlRate.active=!1},s.touchBox=function(){var e=i(a().mark((function e(){var t,n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v.inst.playEffect("sfx_open_chest"),this.btnBox.node.active=!1,this.parent.getComponent(b).deactiveAllRates(),e.next=5,this.parent.getComponent(b).requestOpenGift(this.id);case 5:return t=e.sent,console.log("BONUS RATE BOX: "+JSON.stringify(t)),n=t.bet.betData.bonus.rate,r=t.bet.betData.winBonusAmount,this.lbPrize.string="x"+n,e.next=12,this.playAnimOpenBox();case 12:this.parent.getComponent(b).openRate(this.id,n,r);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.playAnimOpenBox=function(){var e=this;if(this.animBox){var t;this.animBox.clearTracks();var n=this.animBox.setAnimation(0,"Open",!1);return this.animBox.setTrackCompleteListener(n,i(a().mark((function n(r,o){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.animBox.clearTracks(),e.animBox.setAnimation(0,"Open_Idle",!0),e.pnlRate.active=!0,n.next=5,d.fadeInPromise(e.lbPrize.node,.2);case 5:return n.next=7,e.moveRateToCenter();case 7:t&&t();case 8:case"end":return n.stop()}}),n)})))),new Promise((function(e){t=e}))}},s.moveRateToCenter=function(){var e=i(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return.5,t=this.pnlRate.getPosition(),n=d.convertUICordinate(this.parent.getComponent(b).posForRateMove,this.parent,this.node),console.log("TARGET POINT: "+n),d.tweenBezier2DTo(this.pnlRate,.5,new m(t.x+150,t.y-70),new m(t.x+150,t.y-140),new m(n.x,n.y)),x(this.pnlRate).to(.5,{scale:B(2,2,2)}).start(),e.next=8,d.asyncDelay(1);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t}(h)).prototype,"btnBox",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(A.prototype,"animBox",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(A.prototype,"lbPrize",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(A.prototype,"pnlRate",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=A))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"6bea5RYIAhBLIomW3maCrrB","Config",void 0);var t=e("default",(function(){}));t.GAME_CURRENCY_ID="999999",t.PORTAL_CURRENCY_ID="999999",t.DECIMAL_DIGITS=3,t.EQUIVALENT_USD_RATE=1,t.ERROR_CODE={InsufficientAmount:7},t.CURRENCY_ID={FUN:"999999",COD:"999"};e("GAME_ID",4),e("W_GAME_ACTION",{GET_GAME_BANK:"GetGameBank",GET_WALLET:"GetWallet",GET_CURRENT_BET:"GetCurrentBet",BET:"Bet",SPIN:"Spin",OPEN_GIFT:"Open"}),e("BOARD_FORMAT",[3,3,3,3,3]),e("SYMBOL_TYPE",{WILD:11,SCATTER:10,BONUS:9,JACKPOT:1}),e("SYMBOLS_ON_REEL",3),e("LINE_COUNT",25),e("SPINNING_TIME",1.5),e("WAITING_TIME_BTW_REELS",.25),e("SPIN_VELOCITY",2700),e("MAX_SPEED_RATE",3),e("TIME_TO_SHOW_RESULT",1),e("BONUS_NEARWIN",2),e("SCATTER_NEARWIN",3),e("TIME_TO_SHOW_NEARWIN",2),e("ROOM_VALUE",[]),e("BIG_WIN_LEVEL_RATE",[70,200,500]),e("BONUS_PRIZE_COUNT",12),e("BONUS_RATE_COUNT",3),e("JACKPOT_RATE",5e3),e("PREFAB_PATHS",{MAIN_GAME:"prefabs/gameMode/MainGame",BONUS_GAME:"prefabs/gameMode/BonusGame",BONUS_INTRO:"prefabs/popups/PopupBonus",FREE_GAME:"prefabs/gameMode/FreeGame",FREE_INTRO:"prefabs/popups/PopupFreeSpin",BETTING_CONTROL:"prefabs/popups/BettingControl-001",AUTO_CONTROL:"prefabs/popups/AutoControl-001",BIGWIN_POPUP:"prefabs/popups/PopupBigWin",JACKPOT_POPUP:"prefabs/popups/PopupJackpot",TRANSITION_MAIN_BONUS:"prefabs/popups/TransitionMainBonus",TRANSITION_MAIN_FREE:"prefabs/popups/TransitionMainFree",POPUP_NOTIFY:"prefabs/popups/PopupNotify",POPUP_MENU:"prefabs/popups/PopupMenu",POPUP_RULES:"prefabs/popups/Rules"}),e("ERROR_STRING",{CONNECT_TO_SERVER:"Cannot connect to server. Please try again!",DISCONNECT_TO_SERVER:"Disconnect to server. Please reconnect!",LOAD_ASSET:"Cannot load asset. Please try again!",CURRENCY_SUPPORTED:"The selected currency is not supported. Change currency to play game!",NOT_ENOUGH_MONEY:"Not enough money to play game!"}),e("LISTENER_EVENTS",{CHANGE_CURRENCY:"listener.event.change.currency",UPDATE_CURRENCY_ICON:"listener.event.update.currency.icon"}),e("testData",'{"slotDetail":{"gameBankId":"33492707251005440","slotNumber":1,"price":1,"jackpotAmount":7348.655,"id":"33492707251005440:1"},"result":2,"bet":{"id":"34552967715573760","idx":"2317","userId":"1","currencyId":"999999","gameId":"4","equivalentUsdRate":0,"betAmount":25,"betChargeAmount":25,"rngResult":{"message":"4:1:2317","signature":"91940aa6a9fbb254b6cb64dffbc9c280fa4d273bd8fad24a791be1b56482a90c5cfe9034265f0d334444fdb67d2642e4005b3f2de43e9937bfbf8743ff0c10d68a9c2b1cb0c073cddaf5fc69ef65356bc71ea413530d68d357c812fe024e1476","randomness":"222fcd69574af7456c7d8df85d80d84e290301a90cc2063f1fc5f0f49ab4d2e6","public_key":"a36979b21f849b0fde5bff4c5922b14e43382f66ca238f95ea45ee9067be728da76eb9ef9fde9ee1dd5f728775ae8262"},"walletAmountRemain":994001861770.5,"gameBankAmount":0,"payoutRate":7.4,"betData":{"betLines":25,"matrix":[[10,10,4,8,8],[4,6,6,7,10],[6,5,10,7,7]],"winLines":[{"rows":[2,1,1,1,2],"winSymbol":6,"winSymbolCount":3,"winRate":5}],"freeSpin":{"baseRate":1,"openedRounds":[{"matrix":[[1,6,8,4,7],[7,3,2,7,8],[8,7,6,5,5]],"winLines":[],"winRate":0},{"matrix":[[7,5,7,8,6],[4,8,4,6,5],[8,4,8,4,8]],"winLines":[{"rows":[1,2,1,0,1],"winSymbol":4,"winSymbolCount":3,"winRate":85},{"rows":[2,1,2,1,2],"winSymbol":8,"winSymbolCount":3,"winRate":20}],"winRate":105},{"matrix":[[7,6,5,4,8],[3,5,8,8,2],[6,8,4,6,7]],"winLines":[],"winRate":0},{"matrix":[[5,6,4,6,6],[7,3,8,7,5],[3,7,5,4,8]],"winLines":[],"winRate":0},{"matrix":[[6,3,6,5,7],[1,7,3,8,4],[7,6,8,3,7]],"winLines":[{"rows":[0,2,0,2,0],"winSymbol":6,"winSymbolCount":3,"winRate":50}],"winRate":50},{"matrix":[[7,8,3,6,6],[8,3,7,4,11],[5,6,6,8,7]],"winLines":[],"winRate":0},{"matrix":[[5,7,5,7,7],[7,6,7,5,11],[3,8,4,8,8]],"winLines":[{"rows":[1,0,1,2,1],"winSymbol":7,"winSymbolCount":3,"winRate":25}],"winRate":25}]},"bonus":null,"winLinesAmount":5,"winFreeSpinsAmount":180,"winBonusAmount":0,"remainFreeSpin":7,"hasBonus":false,"slotNumber":1,"slotPrice":1,"winJackpotAmount":0},"payoutAmount":0,"createdAt":"2023-04-06T08:21:09.466903+00:00","updatedAt":"2023-04-06T08:21:09.4669031+00:00"},"inventory":{}}'),e("testData1",'{"slotDetail":{"gameBankId":"41710347305361408","slotNumber":1,"price":1,"jackpotAmount":5670.875,"id":"41710347305361408:1"},"result":2,"bet":{"id":"42082748425838592","idx":"3835","userId":"41710731323252736","currencyId":"999999","gameId":"4","equivalentUsdRate":0,"betAmount":25,"betChargeAmount":25,"rngResult":{"message":"4:41710731323252736:3835","signature":"a72171b44f6e979a65302b91b742df470b0f7c6edde6a2f8e1f5cbe1f6907b3dc798d953a45f565ee38ae579aa099a05024057923786d03cc92a4dd4e7aba8df6e9eaf5b0c83625755191974dddec077b97620a97e3519b4a7d563a747a7ca48","randomness":"b3f36c0ad48c9b0b7b00f8e863b61f893cfbbc19927d3c30c97f04b82eb9ed2e","public_key":"b3d2108e43af411c7685f9e80f11295c80f1a28d5ede1e82ab8fe18a8c4522aba1259a7b595c305e9aeacffce7944330"},"walletAmountRemain":996521.5,"gameBankAmount":0,"payoutRate":1.24,"betData":{"betLines":25,"matrix":[[10,4,10,1,10],[4,2,2,4,7],[6,10,8,8,4]],"winLines":[{"rows":[1,0,0,0,1],"winSymbol":4,"winSymbolCount":2,"winRate":2},{"rows":[1,0,1,2,1],"winSymbol":4,"winSymbolCount":2,"winRate":2},{"rows":[1,0,2,0,1],"winSymbol":4,"winSymbolCount":2,"winRate":2}],"freeSpin":{"baseRate":1,"openedRounds":[{"matrix":[[8,8,3,7,8],[5,11,7,4,6],[7,8,6,8,11]],"winLines":[{"rows":[2,1,1,1,2],"winSymbol":7,"winSymbolCount":3,"winRate":25}],"winRate":25}]},"bonus":null,"winLinesAmount":6,"winFreeSpinsAmount":25,"winBonusAmount":0,"remainFreeSpin":7,"hasBonus":false,"slotNumber":1,"slotPrice":1,"winJackpotAmount":0},"payoutAmount":0,"createdAt":"2023-04-27T03:01:49.0841773+00:00","updatedAt":"2023-04-27T03:01:49.0841773+00:00"},"inventory":{}}'),e("bonusResultTestData",{prizes:[.3,.6,.9,1.2,.9,.6,.3],bonusRate:4}),e("spinResultTestData",[{board:[[5,7,8],[6,9,1],[0,3,10],[3,1,2],[4,10,8]],totalBet:1e4,totalWin:100000.12,winLines:["1; 25000; 1,4,7,10","2; 25000; 0,3,6","3; 25000.12; 2,5,8,11,14","4; 25000; 2,4,6,10"],isBonus:!1,isFreeSpin:!1,winJackpot:0},{board:[[1,1,1],[1,1,1],[1,1,1],[2,1,1],[3,4,1]],totalBet:1e4,totalWin:200000.23,winLines:["1; 50000; 1,4,7,10","2; 50000; 0,3,6","3; 50000.23; 2,5,8,11,14","4; 50000; 2,4,6,10"],isBonus:!0,isFreeSpin:!1,winJackpot:0},{board:[[2,2,2],[2,2,2],[2,2,2],[3,2,2],[4,5,2]],totalBet:1e4,totalWin:300000.34,winLines:["1; 75000; 1,4,7,10","2; 75000; 0,3,6","3; 75000.34; 2,5,8,11,14","4; 75000; 2,4,6,10"],isBonus:!1,isFreeSpin:!0,winJackpot:0},{board:[[3,3,3],[3,3,3],[3,3,3],[4,3,3],[5,6,3]],totalBet:1e4,totalWin:400000.45,winLines:["1; 100000; 1,4,7,10","2; 100000; 0,3,6","3; 100000.45; 2,5,8,11,14","4; 100000; 2,4,6,10"],isBonus:!1,isFreeSpin:!1,winJackpot:200000.87},{board:[[4,4,4],[4,4,4],[4,4,4],[5,4,4],[6,7,4]],totalBet:1e4,totalWin:500000.56,winLines:["1; 125000; 1,4,7,10","2; 125000; 0,3,6","3; 125000.56; 2,5,8,11,14","4; 125000; 2,4,6,10"],isBonus:!1,isFreeSpin:!1,winJackpot:0},{board:[[5,5,5],[5,5,5],[5,5,5],[6,5,5],[7,0,5]],totalBet:1e4,totalWin:600000.67,winLines:["1; 150000; 1,4,7,10","2; 150000; 0,3,6","3; 150000.67; 2,5,8,11,14","4; 150000; 2,4,6,10"],isBonus:!0,isFreeSpin:!1,winJackpot:0},{board:[[6,6,6],[6,6,6],[6,6,6],[7,6,6],[0,1,6]],totalBet:1e4,totalWin:800000.78,winLines:["1; 175000; 1,4,7,10","2; 175000; 0,3,6","3; 175000.78; 2,5,8,11,14","4; 175000; 2,4,6,10"],isBonus:!1,isFreeSpin:!1,winJackpot:0},{board:[[7,7,7],[7,7,7],[7,7,7],[0,7,7],[1,2,7]],totalBet:1e4,totalWin:700000.89,winLines:["1; 200000; 1,4,7,10","2; 200000; 0,3,6","3; 200000.89; 2,5,8,11,14","4; 200000; 2,4,6,10"],isBonus:!1,isFreeSpin:!1,winJackpot:400000.65}]);n._RF.pop()}}}));

System.register("chunks:///_virtual/CountingNumberSimple.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts"],(function(e){"use strict";var t,n,i,r,o,u,s,a,l,c,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,l=e.Label,c=e.tween,h=e.Component},function(e){m=e.Helper}],execute:function(){var d,f,b,p,g,v;s._RF.push({},"e6c0aeDsoFIyqz8b4OJdwJP","CountingNumberSimple",void 0);var _=a.ccclass,N=a.property;e("CountingNumberSimple",(d=_("CountingNumberSimple"),f=N(l),d((g=t((p=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return t=e.call.apply(e,[this].concat(o))||this,i(t,"lbNumber",g,r(t)),i(t,"isInteger",v,r(t)),t.doneTweenNumber=void 0,t._tweenNumber=null,t._currVal=0,t._targetVal=0,t._decimalCount=0,t._fixDecimalCount=!1,t}n(t,e);var s=t.prototype;return s.start=function(){this.reset()},s.setLabelNumber=function(e){this.isInteger?this.lbNumber.string=m.formatMoney(e,void 0,void 0,void 0,!0):this._fixDecimalCount?this.lbNumber.string=m.formatMoney(e,void 0,void 0,void 0,void 0,!0):this.lbNumber.string=m.formatMoney(e,this._decimalCount)},s.startCounting=function(e){var t=this;return void 0===e&&(e=0),this._tweenNumber&&this._tweenNumber.stop(),new Promise((function(n){t.doneTweenNumber=n;var i={value:t._currVal};t._tweenNumber=c(i).to(e,{value:t._targetVal},{onUpdate:function(){t._currVal=i.value,t.setLabelNumber(i.value)},onComplete:function(){t._tweenNumber=null,t._currVal=i.value,n(1)}}).start()}))},s.updateTargetValue=function(e,t){void 0===t&&(t=-1),this._targetVal=e,t<0?this._targetVal.toString().includes(".")?this._decimalCount=this._targetVal.toString().split(".")[1].length:this._decimalCount=0:(this._decimalCount=t,this._fixDecimalCount=!0)},s.reset=function(){this._currVal=0,this.lbNumber.string="0"},s.hide=function(){this.node.active=!1,this.reset()},s.show=function(){m.fadeIn(this.node,0)},s.hideWithFade=function(){var e=o(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=0),e.next=3,m.fadeOutPromise(this.node,t);case 3:this.hide();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.showWithFade=function(){var e=o(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0===t&&(t=0),m.fadeIn(this.node,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.showWithScale=function(){m.fadeIn(this.node,0),m.animateScaleUp(this.node,1.5,void 0,1,0)},s.finishCounting=function(e){void 0===e&&(e=null),this._tweenNumber&&this._tweenNumber.stop(),this._currVal=this._targetVal,this.setLabelNumber(this._targetVal),this.doneTweenNumber&&this.doneTweenNumber(console.log("COUNT NUMBER DONE BY TOUCH")),e&&console.log("FINISH COUNTING: "+e)},s.setIsInteger=function(e){void 0===e&&(e=!0),this.isInteger=e},s.onDestroy=function(){this._tweenNumber&&this._tweenNumber.stop()},t}(h)).prototype,"lbNumber",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(p.prototype,"isInteger",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=p))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/ExpandWild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts"],(function(e){"use strict";var t,n,i,r,o,a,c,l,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.sp,l=e.Component},function(e){s=e.Helper}],execute:function(){var p,u,d,f,h;o._RF.push({},"826b5tP2YtPGKQYPp8jd2Ne","ExpandWild",void 0);var v=a.ccclass,y=a.property;e("ExpandWild",(p=v("ExpandWild"),u=y(c.Skeleton),p((h=t((f=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,i(t,"animEW",h,r(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.show=function(e){void 0===e&&(e=.2),console.log("SHOW ANIMATION"),this.node.active=!0,s.animateScaleUp(this.node,1,e,1,0)},t}(l)).prototype,"animEW",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=f))||d));o._RF.pop()}}}));

System.register("chunks:///_virtual/FreeController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Helper.ts","./WPopup.ts","./GameController.ts","./WTotalPrize.ts","./WPopupIntro.ts","./WAudioManager.ts","./WNetworkManager.ts","./CountingNumberSimple.ts","./AutoButton.ts"],(function(t){"use strict";var e,n,r,a,i,s,o,u,p,c,l,h,f,S,m,b,d,g,C,D,y,_,w,x,v,N,A,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.createClass,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,p=t._decorator,c=t.Label,l=t.Node,h=t.Prefab,f=t.ParticleSystem,S=t.instantiate},function(t){m=t.SPINNING_TIME,b=t.TIME_TO_SHOW_RESULT,d=t.W_GAME_ACTION,g=t.GAME_ID},function(t){C=t.Helper},function(t){D=t.WPopup},function(t){y=t.GameController,_=t.GAME_STATE},function(t){w=t.WTotalPrize},function(t){x=t.WPopupIntro},function(t){v=t.WAudioManager},function(t){N=t.WNetworkManager},function(t){A=t.CountingNumberSimple},function(t){E=t.AUTO_BUTTON_STATE}],execute:function(){var P,W,T,R,F,G,I,O,L;u._RF.push({},"e62318DCHVP/qWN9iHQt/UJ","FreeController",void 0);var k=p.ccclass,B=p.property;t("FreeController",(P=k("FreeController"),W=B(c),T=B(l),R=B(h),P((I=e((G=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(e,"lbFSLeft",I,a(e)),r(e,"pnlTotalPrize",O,a(e)),r(e,"popupResult",L,a(e)),e._freeGameCount=void 0,e._baseRate=void 0,e._freeSpinList=void 0,e.freeGameDone=void 0,e._data=Object.create(null),e}n(e,t);var u=e.prototype;return u.setData=function(t){t&&Object.assign(this._data,t)},u.start=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.winAmount.hide(),this._freeGameCount=this.spinData.bet.betData.remainFreeSpin,this._baseRate=this.spinData.bet.betData.freeSpin.baseRate,t.next=5,C.asyncDelay(1);case 5:this.updateFSLabel(),this.setState(_.IDLE),this.updateTotalWin(this.spinData.bet.betData.winFreeSpinsAmount),this.turboButton.setRate(this.data.turboRate),this.runAutoSpin();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.finishFreeGame=function(){var t=this;return new Promise((function(e){t.freeGameDone=e}))},u.runFlowGame=function(){var t=s(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validSpin()){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.requestFreeSpin();case 4:return(e=t.sent)&&(this.spinData=e,this._freeSpinList=e.bet.betData.freeSpin.openedRounds),this.data.autoCount>0?this.setState(_.SPINNING_AUTO):this.setState(_.SPINNING),this.startSpinning(),this._freeGameCount=this.spinData.bet.betData.remainFreeSpin,this.updateFSLabel(),t.next=12,this.updateComponentDataWithSpinResult(this.spinData);case 12:return t.next=14,C.asyncDelay(m/this.turboButton.getRate());case 14:return this.setState(_.STOP),t.next=17,this.stopSpinning();case 17:return console.log("FreeController - STOP SPINNING DONE"),t.next=20,C.asyncDelay(.25);case 20:if(!((n=this.getWinAmountWithSpinData())>0)){t.next=32;break}return this.setState(_.SHOW_RESULT),t.next=25,this.showResult();case 25:return console.log("FreeController - SHOW RESULT DONE"),this.updateTotalWin(this.spinData.bet.betData.winFreeSpinsAmount),t.next=29,C.asyncDelay(1);case 29:return t.next=31,this.resetShowResult();case 31:console.log("FreeController - RESET SHOW RESULT DONE");case 32:if(!(this.data.autoCount>0)){t.next=36;break}this.runAutoSpin(),t.next=41;break;case 36:if(this._freeGameCount>0?this.setState(_.IDLE):this.setState(_.FINISH_FREE_SPIN),!(n>0&&1==this.turboButton.getRate())){t.next=41;break}return t.next=40,this.showWinLinesSequence(n);case 40:console.log("FreeController - SHOW WINLINES SEQUENCE DONE");case 41:if(0!=this._freeGameCount){t.next=48;break}return t.next=44,C.asyncDelay(1.5);case 44:return t.next=46,this.showOutro();case 46:console.log("OPEN AND CLOSE POPUP OUTRO DONE"),this.freeGameDone(this.spinData);case 48:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.validSpin=function(){return this._freeGameCount>0},u.updateComponentDataWithSpinResult=function(){var t=s(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.create(null),r=this._freeSpinList,n.spinResult=r[r.length-1].matrix,n.winLines=r[r.length-1].winLines,n.roomValue=e.bet.betData.slotPrice,this.boardGame.setData(n),t.abrupt("return",Promise.resolve(!0));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.stopSpinning=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.boardGame.stopSpinning();case 2:return t.next=4,this.boardGame.handleStickyWildIfNeed();case 4:return t.next=6,this.boardGame.getListOfSb();case 6:console.log("FreeController - stopSpinning - RESOLVE");case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showResult=function(){var t=s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v.inst.playEffect("sfx_win_normal"),e=this.getWinAmountWithSpinData(),this.vfxWin.getComponent(f).stop(),this.vfxWin.getComponent(f).play(),this.vfxWin.getChildByName("r10").getComponent(f).play(),t.next=7,Promise.all([this.boardGame.showAllWinSymbols(),this.winAmount.startCounting(e,1*b/this.turboButton.getRate()),this.winAmount.showWithFade(.2)]);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showOutro=function(){var t=s(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.pnlTotalPrize.getComponent(w).getTotalPrize(),n=S(this.popupResult),this.popup.addChild(n),n.getComponent(A).updateTargetValue(e),n.getComponent(A).startCounting(5),n.getComponent(x).playAnimIntro(),v.inst.playClip("sfx_freegame_end",!1),v.inst.playEffect("sfx_coin_drop",!0),t.next=10,n.getComponent(D).showing();case 10:v.inst.stopClip(!0),v.inst.stopEffectByName("sfx_coin_drop",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.touchBtnAuto=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.data.autoCount=this._freeGameCount,this.btnAuto.updateStateByAutoCount(this.data.autoCount),this._state!=_.IDLE){t.next=6;break}return t.next=5,C.asyncDelay(.5);case 5:this.runAutoSpin();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.touchBtnStopAuto=function(){this.data.autoCount=0,this.btnAuto.setState(E.SPINNING)},u.runAutoSpin=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=this.data.autoCount){t.next=3;break}return this.setState(_.IDLE),t.abrupt("return");case 3:this.data.autoCount>0&&(this.data.autoCount--,this.btnAuto.updateStateByAutoCount(this.data.autoCount)),this.runFlowGame();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.updateFSLabel=function(){this.lbFSLeft.string=this._freeGameCount.toString()},u.updateButtonState=function(){this.spinButton.setState(this._state),this.btnAuto.setState(this._state)},u.updateTotalWin=function(t){this.pnlTotalPrize.getComponent(w).updateTotalPrize(t)},u.setFreeData=function(t){this.spinData=t},u.getWinAmountWithSpinData=function(){var t=this._freeSpinList[this._freeSpinList.length-1].winRate,e=this.spinData.bet.betData.slotPrice;return t*this._baseRate*e},u.requestFreeSpin=function(){var t=s(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.instance.request(d.SPIN,g);case 2:return e=t.sent,console.log("FREE SPIN DATA: "+JSON.stringify(e)),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i(e,[{key:"data",get:function(){return this._data}}]),e}(y)).prototype,"lbFSLeft",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(G.prototype,"pnlTotalPrize",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(G.prototype,"popupResult",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=G))||F));u._RF.pop()}}}));

System.register("chunks:///_virtual/GameController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Helper.ts","./WBoardGame.ts","./WSpinButton.ts","./WPopup.ts","./WPopupBigWin.ts","./BonusController.ts","./TurboButton.ts","./WBetting.ts","./WUserInfo.ts","./FreeController.ts","./WWinAmount.ts","./WPopupIntro.ts","./WJackpot.ts","./CountingNumberSimple.ts","./WAuto.ts","./AutoButton.ts","./LocalStorage.ts","./WAudioManager.ts","./WNetworkManager.ts","./UmOneToMultiListener.ts","./PopupManager.ts","./JSBridgeNetwork.ts"],(function(t){"use strict";var e,n,r,a,i,s,o,u,c,p,l,h,f,m,d,b,g,_,D,v,A,I,N,E,C,x,S,T,y,B,w,R,O,G,k,P,W,U,L,F,M,J,Y,H,q,j,z,V,K,Q,X,Z,$,tt;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){o=t.cclegacy,u=t._decorator,c=t.Button,p=t.Node,l=t.game,h=t.Game,f=t.resources,m=t.Prefab,d=t.instantiate,b=t.Component,g=t.ParticleSystem,_=t.sp,D=t.BlockInputEvents},function(t){v=t.default,A=t.LISTENER_EVENTS,I=t.PREFAB_PATHS,N=t.ROOM_VALUE,E=t.SPINNING_TIME,C=t.ERROR_STRING,x=t.TIME_TO_SHOW_RESULT,S=t.BIG_WIN_LEVEL_RATE,T=t.W_GAME_ACTION,y=t.GAME_ID,B=t.LINE_COUNT},function(t){w=t.Helper},function(t){R=t.WBoardGame},function(t){O=t.WSpinButton},function(t){G=t.WPopup},function(t){k=t.WPopupBigWin},function(t){P=t.BonusController},function(t){W=t.TurboButton},function(t){U=t.WBetting},function(t){L=t.WUserInfo},function(t){F=t.FreeController},function(t){M=t.WWinAmount},function(t){J=t.WPopupIntro},function(t){Y=t.WJackpot},function(t){H=t.CountingNumberSimple},function(t){q=t.AUTO_TYPE,j=t.WAuto},function(t){z=t.AutoButton,V=t.AUTO_BUTTON_STATE},function(t){K=t.LocalStorage},function(t){Q=t.WAudioManager},function(t){X=t.WNetworkManager},function(t){Z=t.clientEventUm},function(t){$=t.PopupManager},function(t){tt=t.JSBridgeNetwork}],execute:function(){var et,nt,rt,at,it,st,ot,ut,ct,pt,lt,ht,ft,mt,dt,bt,gt,_t,Dt,vt,At,It,Nt,Et,Ct,xt,St,Tt,yt;o._RF.push({},"57da7Frc59Cq4cQhEjr0F5O","GameController",void 0);var Bt=u.ccclass,wt=u.property,Rt=t("GAME_STATE",{INIT:0,IDLE:1,WAITING_FOR_DATA:2,SPINNING:3,SPINNING_AUTO:4,STOP:5,SHOW_RESULT:6,FINISH_FREE_SPIN:7});t("GameController",(et=Bt("GameController"),nt=wt(R),rt=wt(O),at=wt(c),it=wt(c),st=wt(z),ot=wt(W),ut=wt(L),ct=wt(Y),pt=wt(Y),lt=wt(M),ht=wt(p),ft=wt(p),mt=wt(p),et((gt=e((bt=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(e,"boardGame",gt,a(e)),r(e,"spinButton",_t,a(e)),r(e,"btnBet",Dt,a(e)),r(e,"btnMenu",vt,a(e)),r(e,"btnAuto",At,a(e)),r(e,"turboButton",It,a(e)),r(e,"userInfo",Nt,a(e)),r(e,"jackpot",Et,a(e)),r(e,"gamebank",Ct,a(e)),r(e,"winAmount",xt,a(e)),r(e,"vfxWin",St,a(e)),r(e,"popup",Tt,a(e)),r(e,"transition",yt,a(e)),e._totalWinAmount=0,e._state=void 0,e._currBetData=null,e._bettingData=Object.create(null),e._autoData=Object.create(null),e.spinData=null,e._doneBonusGame=void 0,e._doneFreeGame=void 0,e._timeOutBg=void 0,e._intervalAuto=void 0,e}n(e,t);var o=e.prototype;return o.setState=function(t){this._state=t,this.onStateChange()},o.onStateChange=function(){switch(this._state){case Rt.INIT:this.gamebank.updateJackpot(0),this.userInfo.updateBalance(0),this.jackpot.updateJackpot(0),this.winAmount.hide();break;case Rt.IDLE:this._autoData.autoType=q.NO_AUTO;break;case Rt.SPINNING:this.spinButton.setTurboRate(this.turboButton.getRate())}this.updateButtonState()},o.updateButtonState=function(){this.spinButton.setState(this._state),this.btnAuto.setState(this._state),this.btnBet.interactable=this._state==Rt.IDLE,this.btnMenu.interactable=this._state==Rt.IDLE},o.onLoad=function(){var t=this;console.warn("ON LOAD GAME CONTROLLER - PORTAL CURRENCY: "+v.PORTAL_CURRENCY_ID),l.on(h.EVENT_HIDE,(function(){console.warn("ON HIDE GAME"),t.playGameAutoInBackground()})),l.on(h.EVENT_RESUME,(function(){console.warn("ON RESUME GAME")})),l.on(h.EVENT_SHOW,(function(){console.warn("ON SHOW GAME"),t._intervalAuto&&clearInterval(t._intervalAuto)}))},o.onEnable=function(){Z.on(A.CHANGE_CURRENCY,this.processChangeCurrency,this)},o.onDisable=function(){Z.off(A.CHANGE_CURRENCY,this.processChangeCurrency,this)},o.onDestroy=function(){},o.start=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState(Rt.INIT),t.next=3,this.requestGetCurrentBet();case 3:if(this.spinData=t.sent,null!=this.spinData&&null!=this.spinData){t.next=10;break}return t.next=7,this.currencyIsSupported();case 7:return t.sent&&this.setState(Rt.IDLE),t.abrupt("return");case 10:return null==this.spinData.bet?v.GAME_CURRENCY_ID=v.PORTAL_CURRENCY_ID:v.GAME_CURRENCY_ID=this.spinData.bet.currencyId,t.next=13,this.currencyIsSupported();case 13:if(t.sent){t.next=16;break}return t.abrupt("return");case 16:return t.next=18,this.playBonusOrFreeGameIfNeeded();case 18:if(this.updateBillingInfo(),v.GAME_CURRENCY_ID==v.PORTAL_CURRENCY_ID){t.next=27;break}return v.GAME_CURRENCY_ID=v.PORTAL_CURRENCY_ID,t.next=23,this.currencyIsSupported();case 23:t.sent&&this.setState(Rt.IDLE),t.next=28;break;case 27:this.setState(Rt.IDLE);case 28:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.runFlowGame=function(){var t=i(s().mark((function t(){var e,n,r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.validSpin()){t.next=2;break}return t.abrupt("return");case 2:return this.setState(Rt.WAITING_FOR_DATA),t.next=5,this.requestBet();case 5:if(!(e=t.sent)){t.next=10;break}this.spinData=e,t.next=13;break;case 10:return this.setState(Rt.IDLE),console.error("SOMETHING WRONG!!!"),t.abrupt("return");case 13:if(this.spinData.result!=v.ERROR_CODE.InsufficientAmount){t.next=17;break}return $.instance.addPopupYesOnly(C.NOT_ENOUGH_MONEY),this.setState(Rt.IDLE),t.abrupt("return");case 17:return this.makeBet(),this._autoData.autoType!=q.NO_AUTO?this.setState(Rt.SPINNING_AUTO):this.setState(Rt.SPINNING),this.startSpinning(),t.next=22,this.updateComponentDataWithSpinResult(this.spinData);case 22:return n=t.sent,t.next=25,w.asyncDelay(E/this.turboButton.getRate());case 25:return this.setState(Rt.STOP),t.next=28,this.stopSpinning();case 28:if(!n){t.next=36;break}return this.setState(Rt.SHOW_RESULT),t.next=32,this.showResult();case 32:return t.next=34,w.asyncDelay(1/this.turboButton.getRate());case 34:return t.next=36,this.resetShowResult();case 36:if(r=this.spinData.bet.betData.winJackpotAmount,console.log("JACKPOT: "+r),!(r>0)){t.next=43;break}return t.next=41,this.addJackpotPopup(r);case 41:t.next=46;break;case 43:if(!this.gotBigWin()){t.next=46;break}return t.next=46,this.addBigWinPopup(this.spinData.bet.betData.winLinesAmount,this.spinData.slotDetail.price);case 46:return t.next=48,this.playBonusOrFreeGameIfNeeded();case 48:if(a=t.sent,this.updateBillingInfo(),v.GAME_CURRENCY_ID==v.PORTAL_CURRENCY_ID){t.next=57;break}return v.GAME_CURRENCY_ID=v.PORTAL_CURRENCY_ID,t.next=54,this.currencyIsSupported();case 54:if(t.sent){t.next=57;break}return t.abrupt("return");case 57:return console.log("AUTO DATA: "+JSON.stringify(this._autoData)),t.next=60,this.checkAutoIfNeed();case 60:if(this._autoData.autoType==q.NO_AUTO){t.next=64;break}this.runAutoSpin(),t.next=68;break;case 64:if(this.setState(Rt.IDLE),!a){t.next=68;break}return t.next=68,this.showWinLinesSequence(this.spinData.bet.betData.winLinesAmount);case 68:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.playBonusOrFreeGameIfNeeded=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!0,!this.goToBonus()){t.next=11;break}return e=!1,t.next=5,w.asyncDelay(.5);case 5:return t.next=7,this.addBonusIntroPopup();case 7:return t.next=9,w.asyncDelay(.5);case 9:return t.next=11,this.addTransitionToBonus();case 11:if(!this.goToFreeGame()){t.next=21;break}return e=!1,t.next=15,w.asyncDelay(.5);case 15:return t.next=17,this.addFreeSpinIntroPopup();case 17:return t.next=19,w.asyncDelay(.5);case 19:return t.next=21,this.addTransitionToFreeGame();case 21:return t.abrupt("return",Promise.resolve(e));case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.validSpin=function(){return!0},o.makeBet=function(){this.userInfo.updateBalance(this.spinData.bet.walletAmountRemain)},o.startSpinning=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(e=Object.create(null)).spinResult=null,e.reelVelocityRate=this.turboButton.getRate(),this.boardGame.setData(e),this.boardGame.startSpinning();case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.updateComponentDataWithSpinResult=function(){var t=i(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Object.create(null)).spinResult=e.bet.betData.matrix,n.winLines=e.bet.betData.winLines,n.roomValue=e.bet.betData.slotPrice,this.boardGame.setData(n),r=e.bet.betData.winLinesAmount>0,t.abrupt("return",Promise.resolve(r));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.stopSpinning=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.boardGame.stopSpinning();case 2:return t.next=4,w.asyncDelay(.5);case 4:return t.next=6,this.boardGame.handleExpandWildIfNeed();case 6:return t.next=8,this.boardGame.getListOfSb();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.showResult=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q.inst.playEffect("sfx_win_normal"),t.next=3,Promise.all([this.boardGame.showAllWinSymbols(),this.showWinAmount()]);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.showWinAmount=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(e=this.spinData.bet.betData.winLinesAmount)){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:if(!this.gotBigWin()){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return this.vfxWin.getComponent(g).stop(),this.vfxWin.getComponent(g).play(),this.vfxWin.getChildByName("r10").getComponent(g).play(),t.next=10,Promise.all([this.winAmount.startCounting(e,1*x/this.turboButton.getRate()),this.winAmount.showWithFade(.2)]);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.updateGameBank=function(t){void 0===t&&(t=0),this.gamebank.updateJackpot(t)},o.updateJackpot=function(t){void 0===t&&(t=0),this.jackpot.updateJackpot(t)},o.updateWallet=function(t){void 0===t&&(t=0),this.userInfo.updateBalance(t)},o.updateBillingInfo=function(){if(null!=this.spinData.bet&&null!=this.spinData.slotDetail){this.updateGameBank(this.spinData.bet.gameBankAmount),this.updateJackpot(this.spinData.slotDetail.jackpotAmount),this.updateWallet(this.spinData.bet.walletAmountRemain+this.spinData.bet.payoutAmount);var t=this.spinData.bet.betAmount,e=this.spinData.bet.payoutAmount-t;tt.instance.updateProfit(t,e)}},o.resetShowResult=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.boardGame.resetAllSymbols(),this.winAmount.hideWithFade(.2)]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.addJackpotPopup=function(){var t=i(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(n=f.get(I.JACKPOT_POPUP,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return r=d(n),this.popup.addChild(r),r.getComponent(H).updateTargetValue(e),r.getComponent(H).startCounting(5),r.getComponent(J).playAnimIntro(),Q.inst.playClip("sfx_jackpot_win"),t.next=11,r.getComponent(G).showing();case 11:Q.inst.stopClip();case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.addBigWinPopup=function(){var t=i(s().mark((function t(e,n){var r,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(r=f.get(I.BIGWIN_POPUP,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return a=d(r),this.popup.addChild(a),(i=a.getComponent(k)).bwLevelRate=S,i.winAmount=e,i.betAmount=n,t.next=11,i.showing();case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),o.addBonusIntroPopup=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=f.get(I.BONUS_INTRO,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return n=d(e),this.popup.addChild(n),n.getComponent(J).playAnimIntro(),Q.inst.playClip("sfx_bonus_popup",!0),Q.inst.playEffect("sfx_coin_drop",!0),t.next=10,n.getComponent(G).showing();case 10:Q.inst.stopClip(!0),Q.inst.stopEffectByName("sfx_coin_drop",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.addTransitionToBonus=function(){var t=i(s().mark((function t(){var e,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(e=f.get(I.TRANSITION_MAIN_BONUS,m))){t.next=5;break}return t.abrupt("return",new Promise((function(t){n._doneBonusGame=t;var r=d(e);n.transition.addChild(r);var a=r.getChildByName("BonusGa").getComponent(_.Skeleton);Q.inst.playEffect("sfx_transition_bonus");var o=a.setAnimation(0,"animation",!1);a.setTrackEventListener(o,(function(t,e){e&&e.data&&e.data.name&&"ChangeScreen"==e.data.name&&(r.getChildByName("bgTransparent").active=!1,r.getComponent(D).node.active=!1,n.addBonusGame())})),a.setTrackCompleteListener(o,i(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.removeFromParent(),r.destroy();case 2:case"end":return t.stop()}}),t)}))))})));case 5:return t.next=7,this.addBonusGame();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.addBonusGame=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("ADD BONUS GAME"),null!=(e=f.get(I.BONUS_GAME,m))){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return n=d(e),this.popup.addChild(n),this.doSomethingsForBonusGame(!0),n.getComponent(P).setBonusData(this.spinData),t.next=10,n.getComponent(P).finishBonusGame();case 10:return this.spinData=t.sent,t.next=13,w.fadeOutPromise(n,.2);case 13:n.removeFromParent(),n.destroy(),this.doSomethingsForBonusGame(!1),this._doneBonusGame&&this._doneBonusGame(),console.log("FINISHED BONUS GAME");case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.addFreeSpinIntroPopup=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=f.get(I.FREE_INTRO,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return n=d(e),this.popup.addChild(n),n.getComponent(J).playAnimIntro(),Q.inst.playClip("sfx_freegame_popup",!0),Q.inst.playEffect("sfx_coin_drop",!0),t.next=10,n.getComponent(G).showing();case 10:Q.inst.stopClip(!0),Q.inst.stopEffectByName("sfx_coin_drop");case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.addTransitionToFreeGame=function(){var t=i(s().mark((function t(){var e,n=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==(e=f.get(I.TRANSITION_MAIN_FREE,m))){t.next=5;break}return t.abrupt("return",new Promise((function(t){n._doneFreeGame=t;var r=d(e);n.transition.addChild(r);var a=r.getChildByName("FreeSpin").getComponent(_.Skeleton),o=a.setAnimation(0,"animation",!1);Q.inst.playEffect("sfx_transition_freegame"),a.setTrackEventListener(o,(function(t,e){e&&e.data&&e.data.name&&"ChangeScreen"==e.data.name&&(r.getChildByName("bgTransparent").active=!1,n.addFreeGame())})),a.setTrackCompleteListener(o,i(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("FINISH TRANSITION"),r.removeFromParent(),r.destroy();case 3:case"end":return t.stop()}}),t)}))))})));case 5:return t.next=7,this.addFreeGame();case 7:console.log("FINISHED TRANSITION FREEGAME");case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.addFreeGame=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=f.get(I.FREE_GAME,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return w.transitionBackgroundWeb("normal-bg","free-bg"),Q.inst.playBGM("bgm_freegame"),n=d(e),this.popup.addChild(n),this.doSomethingsForFreeGame(!0),this.updateFreeSpinData(n.getComponent(F)),t.next=11,n.getComponent(F).finishFreeGame();case 11:return this.spinData=t.sent,t.next=14,w.fadeOutPromise(n,.2);case 14:n.removeFromParent(),n.destroy(),this.doSomethingsForFreeGame(!0),this._doneFreeGame&&this._doneFreeGame(),console.log("FINISHED FREE GAME"),w.transitionBackgroundWeb("free-bg","normal-bg"),Q.inst.playBGM("bgm_normal");case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.showWinLinesSequence=function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=e){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(!(this.turboButton.getRate()>1)){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return t.next=6,Promise.all([this.boardGame.showWinLinesSequence()]);case 6:return t.next=8,this.boardGame.resetAllSymbols();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.updateFreeSpinData=function(t){var e=Object.create(null),n=this.spinData.bet.betData.remainFreeSpin;e.autoCount=this._autoData.autoType!=q.NO_AUTO?n:0,e.turboRate=this.turboButton.getRate(),t.setData(e),t.setFreeData(this.spinData)},o.requestGetGameBank=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.instance.request(T.GET_GAME_BANK,y,v.GAME_CURRENCY_ID.toString());case 3:return e=t.sent,console.log("GET GAME BANK: "+JSON.stringify(e)),t.abrupt("return",e);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o.requestGetWallet=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.instance.request(T.GET_WALLET,v.GAME_CURRENCY_ID.toString());case 3:return e=t.sent,console.log("GET WALLET: "+JSON.stringify(e)),t.abrupt("return",e);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o.requestGetCurrentBet=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X.instance.request(T.GET_CURRENT_BET,y);case 3:return e=t.sent,console.log("CURRENT BET: "+JSON.stringify(e)),t.abrupt("return",e);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),o.requestBet=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e={gameId:y,currencyId:v.GAME_CURRENCY_ID.toString(),slotNumber:this.userInfo.data.slotNumber,betLines:this.userInfo.data.lines},console.log("requestBet: "+JSON.stringify(e)),t.next=5,X.instance.request(T.BET,e);case 5:return n=t.sent,console.log("BET DATA: "+JSON.stringify(n)),t.abrupt("return",n);case 10:t.prev=10,t.t0=t.catch(0),console.error("BET ERROR: "+t.t0),$.instance.addPopupHasBothButtons(C.DISCONNECT_TO_SERVER,(function(){X.instance.reconnectToServer()}));case 14:case"end":return t.stop()}}),t,this,[[0,10]])})));return function(){return t.apply(this,arguments)}}(),o.getBettingData=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._bettingData=this.node.getComponent(K).getBettingData(),null==this._bettingData&&(this._bettingData=Object.create(null),this._bettingData.roomIndex=0,this._bettingData.lineCount=B,this.node.getComponent(K).setBettingData(this._bettingData)),this.updateUserBetting();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.getTurboRate=function(){var t=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.node.getComponent(K).getTurboRate(),this.turboButton.setRate(e);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.setAutoData=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._autoData.autoType=q.NO_AUTO;case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.touchSpin=function(){this.runFlowGame()},o.touchBtnMenu=function(){Q.inst.playTouchButton(),this.showMenuPopup()},o.touchBtnBet=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Q.inst.playTouchButton(),t.next=3,this.showBettingPopup();case 3:return console.log("GameController - SHOW AND CLOSE BETTING POPUP DONE"),this.updateUserBetting(),t.next=7,this.requestGetGameBank();case 7:e=t.sent,n=this._bettingData.roomIndex,this.updateJackpot(e.slotDetails[n].jackpotAmount);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.touchBtnAuto=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showAutoPopup();case 2:if(console.log("GameController - SHOW AND CLOSE AUTO POPUP DONE"),this.btnAuto.setAutoData(this._autoData),this.btnAuto.setState(V.SPINNING_AUTO),this._autoData.balanceWhenStartAuto=this.userInfo.data.balance,this._state!=Rt.IDLE){t.next=10;break}return t.next=9,w.asyncDelay(.5);case 9:this.runAutoSpin();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.touchBtnStopAuto=function(){this._autoData.autoType=q.NO_AUTO,this.btnAuto.setState(V.SPINNING)},o.showMenuPopup=function(){var t=f.get(I.POPUP_MENU,m);if(null!=t){var e=d(t);this.popup.addChild(e)}},o.showBettingPopup=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=f.get(I.BETTING_CONTROL,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return n=d(e),this.popup.addChild(n),n.getComponent(U).setData(this._bettingData),t.next=8,n.getComponent(G).showing();case 8:this._bettingData=t.sent;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.updateUserBetting=function(){this.userInfo.updateLines(this._bettingData.lineCount);var t=this._bettingData.roomIndex;this.userInfo.updateRoomId(t),console.log("updateUserBetting - bettingData: "+JSON.stringify(this._bettingData)),this._bettingData.slotDetails&&this.userInfo.updateSlotNumber(this._bettingData.slotDetails[t].slotNumber)},o.showAutoPopup=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=f.get(I.AUTO_CONTROL,m))){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return n=d(e),this.popup.addChild(n),n.getComponent(j).setData(this._autoData),t.next=8,n.getComponent(G).showing();case 8:this._autoData=t.sent;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.runAutoSpin=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._autoData.autoType!=q.NO_AUTO){t.next=3;break}return this.setState(Rt.IDLE),t.abrupt("return");case 3:0!=this._autoData.autoCount&&this._autoData.autoCount--,this.btnAuto.setStateWithAutoData(this._autoData),this.runFlowGame();case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.getSpinData=function(){if(this.spinData)return this.spinData},o.getTotalBet=function(){return this._bettingData.lineCount*N[this._bettingData.roomIndex]},o.goToBonus=function(){return null!=this.spinData.bet&&this.spinData.bet.betData.hasBonus},o.doSomethingsForBonusGame=function(t){},o.goToFreeGame=function(){return null!=this.spinData.bet&&null!=this.spinData.bet.betData.freeSpin},o.doSomethingsForFreeGame=function(t){},o.gotBigWin=function(){return w.isBigWin(this.spinData.bet.betData.winLinesAmount,this.spinData.slotDetail.price)},o.checkAutoIfNeed=function(){if(this._autoData.autoType==q.NO_AUTO)return Promise.resolve();if(this._autoData.autoType==q.BASIC)return 0==this._autoData.autoCount&&(this._autoData.autoType=q.NO_AUTO),Promise.resolve();if(this._autoData.autoType==q.BOTH&&0==this._autoData.autoCount)return this._autoData.autoType=q.NO_AUTO,Promise.resolve();if(this._autoData.stopWithWin>0){var t=this.spinData.bet.payoutAmount;if(this._autoData.stopWithWin<=t)return this._autoData.autoType=q.NO_AUTO,Promise.resolve()}return this._autoData.stopWithBlIncrease>0&&this.userInfo.data.balance-this._autoData.balanceWhenStartAuto>=this._autoData.stopWithBlIncrease||this._autoData.stopWithBlDecrease>0&&this._autoData.balanceWhenStartAuto-this.userInfo.data.balance>=this._autoData.stopWithBlDecrease||this.spinData.bet.betData.winJackpotAmount>0&&this._autoData.stopWithJP?(this._autoData.autoType=q.NO_AUTO,Promise.resolve()):Promise.resolve()},o.processChangeCurrency=function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("CHANGE CURRENCY: "+JSON.stringify(e)),v.PORTAL_CURRENCY_ID=e.currencyId.toString(),v.DECIMAL_DIGITS=e.decimalDigits,v.EQUIVALENT_USD_RATE=e.equivalentUsdRate,this._state!=Rt.INIT&&this._state!=Rt.IDLE){t.next=10;break}return v.GAME_CURRENCY_ID=v.PORTAL_CURRENCY_ID,t.next=8,this.currencyIsSupported();case 8:t.sent&&this.setState(Rt.IDLE);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),o.currencyIsSupported=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Z.dispatchEvent(A.UPDATE_CURRENCY_ICON),t.next=3,this.updateCurrentGameInfo();case 3:if(null!=t.sent){t.next=10;break}return this.setState(Rt.INIT),$.instance.addPopupHasNoButtons(C.CURRENCY_SUPPORTED),t.abrupt("return",!1);case 10:$.instance.removeAllPopupsOnScene();case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.updateCurrentGameInfo=function(){var t=i(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.requestGetGameBank();case 2:if(null!=(e=t.sent)){t.next=6;break}return console.error("GET GAMEBANK ERROR"),t.abrupt("return",null);case 6:return this.updateGameBank(e.amount),e.slotDetails.forEach((function(t){N.push(t.price)})),t.next=10,this.getGameStateFromLocal();case 10:return this._bettingData.slotDetails=e.slotDetails,console.log("updateCurrentGameInfo - bettingData: "+JSON.stringify(this._bettingData)),this._bettingData.slotDetails&&this.userInfo.updateSlotNumber(this._bettingData.slotDetails[this._bettingData.roomIndex].slotNumber),n=this._bettingData.roomIndex,this.updateJackpot(e.slotDetails[n].jackpotAmount),t.next=17,this.requestGetWallet();case 17:return e=t.sent,this.updateWallet(e),t.abrupt("return",!0);case 20:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.getGameStateFromLocal=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([this.getBettingData(),this.getTurboRate(),this.setAutoData()]);case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.playGameAutoInBackground=function(){},e}(b)).prototype,"boardGame",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_t=e(bt.prototype,"spinButton",[rt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dt=e(bt.prototype,"btnBet",[at],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vt=e(bt.prototype,"btnMenu",[it],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),At=e(bt.prototype,"btnAuto",[st],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),It=e(bt.prototype,"turboButton",[ot],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nt=e(bt.prototype,"userInfo",[ut],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Et=e(bt.prototype,"jackpot",[ct],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ct=e(bt.prototype,"gamebank",[pt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xt=e(bt.prototype,"winAmount",[lt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),St=e(bt.prototype,"vfxWin",[ht],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tt=e(bt.prototype,"popup",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yt=e(bt.prototype,"transition",[mt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dt=bt))||dt));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameSceneController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var n,o,t,r,i,c,l,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,l=e.Node,s=e.Component}],execute:function(){var a,u,p,f,h;i._RF.push({},"edc60oYk9FOM7x7B+/G4dRY","GameSceneController",void 0);var d=c.ccclass,y=c.property;e("GameSceneController",(a=d("GameSceneController"),u=y(l),a((h=n((f=function(e){function n(){for(var n,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=e.call.apply(e,[this].concat(i))||this,t(n,"pfbLoading",h,r(n)),n}o(n,e);var i=n.prototype;return i.onLoad=function(){this.node.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel.bind(this),this)},i.onMouseWheel=function(e){console.log("Mouse wheel Y: "+e.getScrollY()/(1920/720))},i.start=function(){},i.onDestroy=function(){this.node.off(l.EventType.MOUSE_WHEEL)},n}(s)).prototype,"pfbLoading",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/Helper.ts",["cc","./Config.ts"],(function(e){"use strict";var t,n,o,a,r,i,s,u,l,c,f,d,v,p,h;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.UITransform,a=e.Vec3,r=e.Enum,i=e.CCClass,s=e.tween,u=e.v3,l=e.Color,c=e.UIOpacity,f=e.sp,d=e.bezier,v=e.sys},function(e){p=e.default,h=e.BIG_WIN_LEVEL_RATE}],execute:function(){var m;t._RF.push({},"75567RYf0ZFA7XYCFsS/KXo","Helper",void 0);var g=n.ccclass;n.property,e("Helper",g("Helper")(m=function(){function e(){}return e.isNegative=function(e,t){return!(e.x*t.x>=0&&e.y*t.y>=0)},e.convertUICordinate=function(e,t,n){var r=t.getComponent(o),i=n.getComponent(o);if(r&&i){var s=new a,u=new a;return r.convertToWorldSpaceAR(e,s),i.convertToNodeSpaceAR(s,u),u}return null},e.updateEnum=function(e,t,n){var o=Object.assign(r({}),n);r.update(o),i.Attr.setClassAttr(e,t,"type","Enum"),i.Attr.setClassAttr(e,t,"enumList",r.getList(o))},e.asyncDelay=function(e){var t=this;return void 0===e&&(e=0),new Promise((function(n){return s(t).delay(e).call(n).start()}))},e.drawCards=function(e){void 0===e&&(e=1);for(var t=[],n=[];e;){var o=Math.floor(52*Math.random());-1==n.indexOf(o)&&(t.push(o),n.push(o),e--)}return t},e.formatNumberToShort=function(e,t){if(void 0===t&&(t=2),isNaN(parseFloat(e)))return"0";var n,o=[{value:1,symbol:""},{value:1e3,symbol:"K"},{value:1e6,symbol:"M"},{value:1e9,symbol:"B"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}];for(n=o.length-1;n>0&&!(e>=o[n].value);n--);return this.toFixed(e/o[n].value,t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+o[n].symbol},e.toFixed=function(e,t){var n=new RegExp("^-?\\d+(?:.\\d{0,"+(t||-1)+"})?");return e.toString().match(n)[0]},e.formatMoney=function(e,t,n,o,a,r){void 0===t&&(t=3),void 0===n&&(n="."),void 0===o&&(o=","),void 0===a&&(a=!1),void 0===r&&(r=!1);try{if(a)t=0;else if(e.toString().includes(".")){if(!r){isNaN(p.DECIMAL_DIGITS)||(t=t>p.DECIMAL_DIGITS?p.DECIMAL_DIGITS:t),t=Math.abs(t),t=isNaN(t)?3:t;var i=e.toString().split(".")[1].length;t=i<t?i:t}}else t=0;var s=e<0?"-":"",u=parseInt(e=Math.abs(Number(e)||0).toFixed(t)).toString(),l=u.length>3?u.length%3:0;return s+(l?u.substr(0,l)+o:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+o)+(t?n+Math.abs(e-u).toFixed(t).slice(2):"")}catch(e){console.error(e)}return"0"},e.showWithScale=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=.2);var o=u(t,t,t),a=u(t+.5,t+.5,t+.5),r=s().to(n,{scale:a},{easing:"fade"}),i=s().to(n,{scale:o},{easing:"fade"});return s(e).set({scale:u(0,0,0)}).then(r).then(i).start()},e.animateScaleUp=function(e,t,n,o,r,i){void 0===n&&(n=.2),void 0===o&&(o=1),void 0===r&&(r=1),void 0===i&&(i=null);var u={scale:new a(r,r,r)},l=s().to(n,{scale:new a(t,t,t)},{easing:"fade"}),c=s().to(n,{scale:new a(o,o,o)},{easing:"fade"}),f=s().call((function(){i&&i()}));return s(e).set(u).then(l).then(c).then(f).start()},e.setAlphaSpine=function(e,t){var n=l.clone(e.color);n.a=t,e.color=n},e.fadeTo=function(e,t,n,o){var a=e.getComponent(c);null===a&&(a=e.addComponent(c));var r=e.getComponent(f.Skeleton);if(o=o||{},r)if(o.onUpdate){var i=o.onUpdate;o.onUpdate=function(){this.setAlphaSpine(r,a.opacity),i&&i()}.bind(this)}else o.onUpdate=function(){this.setAlphaSpine(r,a.opacity)}.bind(this);var u=s(a);return u.to(t,{opacity:n},o).start(),e.tweenFade=u,u},e.fadeInPromise=function(e,t,n){var o=this;return new Promise((function(a){return o.fadeIn(e,t,n).call(a).start()}))},e.fadeIn=function(e,t,n){var o=e.getComponent(c);return null===o&&(o=e.addComponent(c)),o.opacity=0,e.active=!0,this.fadeTo(e,t,255,n)},e.fadeOutPromise=function(e,t,n){var o=this;return new Promise((function(a){return o.fadeOut(e,t,n).call(a).start()}))},e.fadeOut=function(e,t,n){return this.fadeTo(e,t,0,n)},e.shakeEffect=function(e,t,n){var o;if(e){e.tween_shake&&e.tween_shake.stop();for(var r=e.getPosition(),i=[],u=Math.floor(t/.01),l=0;l<u;l++){var c=r.x+this.getRandomFloat(-n,n),f=r.y+this.getRandomFloat(-n,n),d=s().to(.01,{position:new a(c,f,1)});i.push(d)}var v=(o=s(e)).sequence.apply(o,i).call((function(){e.setPosition(r),e.tween_shake=null})).start();return e.tween_shake=v,v}},e.tweenBezier2DTo=function(e,t,n,o,r,i){e.bezierX&&e.bezierX.stop(),e.bezierY&&e.bezierY.stop();var u=n.x,l=n.y,c=o.x,f=o.y,v={value:e.getPosition().x},p={value:e.getPosition().y},h=i||Object.create(null);h.progress=function(e,t,n,o){return d(e,u,c,t,o)},h.onUpdate=function(){e.setPosition(new a(v.value,e.position.y,e.position.z))};var m=i||Object.create(null);m.progress=function(e,t,n,o){return d(e,l,f,t,o)},m.onUpdate=function(){e.setPosition(new a(e.position.x,p.value,e.position.z))},e.bezierX=s(v).to(t,{value:r.x},h).call((function(){e.bezierX=null})).start(),e.bezierY=s(p).to(t,{value:r.y},m).call((function(){e.bezierY=null})).start()},e.getRandomFloat=function(e,t){return Math.random()*(t-e)+e},e.randomRange=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},e.isBigWin=function(e,t){return e/t>=h[0]},e.transitionBackgroundWeb=function(e,t){if(v.isBrowser){var n=document.getElementById(e);n&&(n.className=n.className.replace("visible","hidden"));var o=document.getElementById(t);o&&(o.className=n.className.replace("hidden","visible"))}},e}())||m);t._RF.pop()}}}));

System.register("chunks:///_virtual/IconCurrency.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UmOneToMultiListener.ts"],(function(t){"use strict";var r,e,n,i,o,c,u,s,a,p,l,f,y;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,u=t.Sprite,s=t.CCString,a=t.SpriteFrame,p=t.Component},function(t){l=t.LISTENER_EVENTS,f=t.default},function(t){y=t.clientEventUm}],execute:function(){var C,h,d,_,E,b,g,I,L;o._RF.push({},"0df19I9VW5IwbEbZ4M9H7wr","IconCurrency",void 0);var S=c.ccclass,R=c.property;t("IconCurrency",(C=S("IconCurrency"),h=R(u),d=R([s]),_=R(a),C((g=r((b=function(t){function r(){for(var r,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return r=t.call.apply(t,[this].concat(o))||this,n(r,"sprCurrency",g,i(r)),n(r,"idList",I,i(r)),n(r,"iconList",L,i(r)),r._currencyMap=new Map,r}e(r,t);var o=r.prototype;return o.onLoad=function(){for(var t=0;t<this.idList.length;t++)this._currencyMap.set(this.idList[t],this.iconList[t])},o.onEnable=function(){y.on(l.UPDATE_CURRENCY_ICON,this.updateCurrencySprite,this)},o.onDisable=function(){y.off(l.UPDATE_CURRENCY_ICON,this.updateCurrencySprite,this)},o.onDestroy=function(){y.off(l.UPDATE_CURRENCY_ICON,this.updateCurrencySprite,this)},o.start=function(){this.updateCurrencySprite()},o.updateCurrencySprite=function(){this.sprCurrency.spriteFrame=this._currencyMap.get(f.GAME_CURRENCY_ID.toString())},r}(p)).prototype,"sprCurrency",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=r(b.prototype,"idList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=r(b.prototype,"iconList",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=b))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/JSBridgeNetwork.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,n,i,o;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,i=e._decorator,o=e.log}],execute:function(){var s,r;n._RF.push({},"70623N4Va1PiYXhbQrweUNp","JSBridgeNetwork",void 0);var a=i.ccclass,c=(i.property,e("INCOMMING_ACTION",{AUTH:".jwt",BET:".bet",CURRENCY:".currency"}),".init"),d=".total_bet",l="open.gamebank",u=".profit",h=".scrollTo",f=".play_mode",g=".exit_game";e("JSBridgeNetwork",a("JSBridgeNetwork")(((r=function(){function e(){this.handlers=void 0,this.gameCode="bifarm",this.handlers=new Map,window.addEventListener("message",this.excuteHandler.bind(this)),this.setGameCode("bifarm")}var n=e.prototype;return n.onLoad=function(){},n.start=function(){console.log("START JSBridgeNetwork")},n.update=function(e){},n.addHandler=function(e,t){var n=this.handlers.has(e)?this.handlers.get(e):[];n.push(t),this.handlers.set(e,n)},n.removeHandler=function(e){this.handlers.delete(e)},n.excuteHandler=function(e){if(e){var t=e.data?JSON.parse(e.data):null;if(o("From Portal:: "+e.data),t&&t.cmd){var n=this.handlers.get(t.cmd);n&&n.length&&n.forEach((function(e){return e(t)}))}}},n.setGameCode=function(e){this.gameCode=e},n.verifyAction=function(e){return this.gameCode+e},n.send=function(e){console.log("POST MESSAGE: "+JSON.stringify(e)),parent&&parent.postMessage(JSON.stringify(e),"*")},n.updateTotalBetValue=function(e){var t={cmd:this.verifyAction(d),amount:e};this.send(t)},n.requestToken=function(){var e={cmd:this.verifyAction(c)};this.send(e),console.log("INIT TOKEN")},n.updateProfit=function(e,t){var n={cmd:this.verifyAction(u),betAmount:e,betProfit:t};this.send(n),console.log("SEND UPDATE PROFIT")},n.mouseScroll=function(e,t){var n={cmd:this.verifyAction(h),toX:e,toY:t};this.send(n)},n.openGameBank=function(){var e={cmd:this.verifyAction(l),game:this.gameCode};this.send(e),console.log("OPEN GAMEBANK")},n.changePlayMode=function(e){var t={cmd:this.verifyAction(f),currencyId:e};this.send(t),console.log("PLAY MODE")},n.exitGame=function(){var e={cmd:this.verifyAction(g)};this.send(e),console.log("EXIT GAME")},t(e,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}())._instance=void 0,s=r))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./LocalStorage.ts","./Config.ts","./PopupManager.ts","./WNetworkManager.ts","./Helper.ts"],(function(n){"use strict";var e,t,o,r,i,a,s,c,u,l,p,g,d,f,h,m,L,b,y,v,A,S;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,i=n.asyncToGenerator,a=n.regeneratorRuntime},function(n){s=n.cclegacy,c=n._decorator,u=n.Node,l=n.ProgressBar,p=n.profiler,g=n.resources,d=n.Prefab,f=n.instantiate,h=n.Component},function(n){m=n.WAudioManager},function(n){L=n.LocalStorage},function(n){b=n.PREFAB_PATHS,y=n.ERROR_STRING},function(n){v=n.PopupManager},function(n){A=n.WNetworkManager},function(n){S=n.Helper}],execute:function(){var _,P,M,w,x,D,T;s._RF.push({},"fb499jaPdNAIKSW01LqjqjI","LoadingController",void 0);var k=c.ccclass,C=c.property;n("LoadingController",(_=k("LoadingController"),P=C(u),M=C(l),_((D=e((x=function(n){function e(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return e=n.call.apply(n,[this].concat(i))||this,o(e,"pnlProgressBar",D,r(e)),o(e,"pgbLoading",T,r(e)),e._items=[],e._isLoading=!1,e}t(e,n);var s=e.prototype;return s.onLoad=function(){p.hideStats();this._items=this._items.concat(["sounds/bgm/","sounds/sfx/"]).concat(["prefabs/components/","prefabs/gameMode/","prefabs/popups/"]).concat([])},s.start=function(){var n=i(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A.instance.connectToServer();case 2:if(A.instance.connected){n.next=5;break}return console.log("LoadingController - CANNOT CONNECT TO SERVER!!!"),n.abrupt("return");case 5:this.checkGoBaseGame();case 6:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),s.onTouchShowFPS=function(){p.isShowingStats()?p.hideStats():p.showStats()},s.checkGoBaseGame=function(){if(!this._isLoading){var n=1/(this._items.length+1);this.loadAsset(0,n)}},s.loadAsset=function(){var n=i(a().mark((function n(e,t){var o,r=this;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this._isLoading=!0,!(e>=this._items.length)){n.next=7;break}return this.pgbLoading.progress=1,n.next=5,S.asyncDelay(.5);case 5:return this.finishedLoading(),n.abrupt("return");case 7:o=this._items[e],console.log("LOAD ASSET: "+o),this._isDirectory(o)?g.loadDir(o,(function(n,o){var i=e*t+n/o*t;i>r.pgbLoading.progress&&(r.pgbLoading.progress=i)}),i(a().mark((function n(i,s){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o.endsWith("/bgm/")&&r.initAudio(),i){n.next=7;break}return n.next=4,S.asyncDelay(0);case 4:r.loadAsset(e+1,t),n.next=9;break;case 7:console.log("Load error: "+i+" - "+o),r.addPopup(y.LOAD_ASSET);case 9:case"end":return n.stop()}}),n)})))):g.load(o,(function(n,o){var i=e*t+n/o*t;i>r.pgbLoading.progress&&(r.pgbLoading.progress=i)}),i(a().mark((function n(i,s){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i){n.next=6;break}return n.next=3,S.asyncDelay(0);case 3:r.loadAsset(e+1,t),n.next=8;break;case 6:console.log("Load error: "+i+" - "+o),r.addPopup(y.LOAD_ASSET);case 8:case"end":return n.stop()}}),n)}))));case 10:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}(),s.finishedLoading=function(){var n=g.get("prefabs/gameMode/MainGame",d);if(n){var e=f(n);this.node.getParent().addChild(e),this.node.removeFromParent(),this.node.destroy()}},s.addPopup=function(n){var e=this;console.log("LOADING CONTROLLER - addPopup"),v.instance.addPopupHasBothButtons(n,(function(){var n=1/(e._items.length+1);e.loadAsset(0,n)}))},s.initAudio=function(){console.log("INIT AUDIO");var n=this.getComponent(L).getMutingMusic(),e=this.getComponent(L).getMutingSound();m.inst.isMutingMusic=n,m.inst.isMutingEffect=e,m.inst.playBGM("bgm_normal")},s.onTouchStart=function(){m.inst.playTouchButton();var n=g.get(b.MAIN_GAME,d);if(n){var e=f(n);this.node.getParent().addChild(e),this.node.removeFromParent(),this.node.destroy()}},s._isDirectory=function(n){return null!=n&&"string"==typeof n&&n.length>0&&"/"==n[n.length-1]},s.onDestroy=function(){console.log("Loading onDestroy")},e}(h)).prototype,"pnlProgressBar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(x.prototype,"pgbLoading",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=x))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/LocalDataManager.ts",["cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy,n=t.sys}],execute:function(){e._RF.push({},"ef488KDMl1ISqzt5Bg8pH4d","LocalDataManager",void 0);t("default",function(){function t(){}return t.getString=function(t,e){var r=n.localStorage.getItem(t);return null===r||Number.isNaN(r)?e:r},t.setString=function(t,e){n.localStorage.setItem(t,e)},t.getNumber=function(t,e){var r=n.localStorage.getItem(t);return null===r||Number.isNaN(r)?e:Number(r).valueOf()},t.setNumber=function(t,e){n.localStorage.setItem(t,e.toString())},t.getBoolean=function(t,e){var r=n.localStorage.getItem(t);return null==r||""===r?e:!("true"==r)},t.setBoolean=function(t,e){var r=e?"false":"true";n.localStorage.setItem(t,r)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalDataManager.ts"],(function(t){"use strict";var e,n,o,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component},function(t){a=t.default}],execute:function(){var u;n._RF.push({},"25709Xnmq9Kuan+PpHeQNrw","LocalStorage",void 0);var i=o.ccclass,c=(o.property,t("LOCAL_STORAGE_KEY",{BETTING_DATA:"local_storage_betting_data_key",TURBO_RATE:"local_storage_turbo_rate_key",AUTO_DATA:"local_storage_auto_data_key",MUTING_SOUND:"local_storage_muting_sound_key",MUTING_MUSIC:"local_storage_muting_music_key"}));t("LocalStorage",i("LocalStorage")(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var o=n.prototype;return o.start=function(){},o.getBettingData=function(){var t=a.getString(c.BETTING_DATA,"");return""==t?null:JSON.parse(t)},o.setBettingData=function(t){var e=JSON.stringify(t);a.setString(c.BETTING_DATA,e)},o.getAutoData=function(){var t=a.getString(c.AUTO_DATA,"");return""==t?null:JSON.parse(t)},o.setAutoData=function(t){var e=JSON.stringify(t);a.setString(c.AUTO_DATA,e)},o.getTurboRate=function(){return a.getNumber(c.TURBO_RATE,1)},o.setTurboRate=function(t){a.setNumber(c.TURBO_RATE,t)},o.getMutingSound=function(){return a.getBoolean(c.MUTING_SOUND,!1)},o.setMutingSound=function(t){a.setBoolean(c.MUTING_SOUND,t)},o.getMutingMusic=function(){return a.getBoolean(c.MUTING_MUSIC,!1)},o.setMutingMusic=function(t){a.setBoolean(c.MUTING_MUSIC,t)},n}(r))||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./WAudioManager.ts","./AcceleratedSpinningReel.ts","./AutoButton.ts","./CountingNumberSimple.ts","./ExpandWild.ts","./IconCurrency.ts","./LocalStorage.ts","./ScrollListener.ts","./StickyWild.ts","./Timer.ts","./TouchToClose.ts","./TurboButton.ts","./UmOneToMultiListener.ts","./UmSwitchButton.ts","./Config.ts","./BonusController.ts","./FreeController.ts","./GameController.ts","./GameSceneController.ts","./LoadingController.ts","./BonusRateBox.ts","./PrizeBox.ts","./WAuto.ts","./WBetting.ts","./WBoardGame.ts","./WJackpot.ts","./WPopup.ts","./WPopupBigWin.ts","./WPopupIntro.ts","./WPopupMenu.ts","./WPopupNotify.ts","./WReel.ts","./WReelFeature.ts","./WRules.ts","./WSpinButton.ts","./WSymbol.ts","./WSymbolGroup.ts","./WTotalPrize.ts","./WUserInfo.ts","./WWinAmount.ts","./LocalDataManager.ts","./PopupManager.ts","./BitfarmDataType.ts","./JSBridgeNetwork.ts","./WNetworkManager.ts","./Helper.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PopupManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./WPopupNotify.ts"],(function(t){"use strict";var n,e,o,s,i,u,p,a;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,o=t.resources,s=t.Prefab,i=t.instantiate,u=t.director},function(t){p=t.PREFAB_PATHS},function(t){a=t.WPopupNotify}],execute:function(){e._RF.push({},"0847btqCfZFU4Ybmn8tECsI","PopupManager",void 0),t("PopupManager",function(){function t(){this._popupList=[]}var e=t.prototype;return e.addPopupYesOnly=function(t,n,e){var u=this;void 0===e&&(e="OK"),o.load(p.POPUP_NOTIFY,s,(function(o,s){if(s){var p=i(s);p.getComponent(a).setMessage(t),p.getComponent(a).showYesButtonOnly(),p.getComponent(a).setYesButtonTitle(e),n&&p.getComponent(a).setFunctionYes(n),u.addPopupToScene(p)}}))},e.addPopupHasBothButtons=function(t,n,e,u,c){var r=this;void 0===u&&(u="OK"),void 0===c&&(c="Cancel"),o.load(p.POPUP_NOTIFY,s,(function(o,s){if(s){var p=i(s);p.getComponent(a).setMessage(t),p.getComponent(a).showBothButtons(),p.getComponent(a).setYesButtonTitle(u),p.getComponent(a).setNoButtonTitle(c),n&&p.getComponent(a).setFunctionYes(n),e&&p.getComponent(a).setFunctionNo(e),r.addPopupToScene(p)}}))},e.addPopupHasNoButtons=function(t){var n=this;o.load(p.POPUP_NOTIFY,s,(function(e,o){if(o){var s=i(o);s.getComponent(a).setMessage(t),s.getComponent(a).hideBothButtons(),n.addPopupToScene(s)}}))},e.addPopupToScene=function(t){this.removeAllPopupsOnScene(),u.getScene().getChildByName("Canvas").addChild(t),this._popupList.push(t)},e.removeAllPopupsOnScene=function(){this._popupList.forEach((function(t){null!=t&&null!=t&&(t.removeFromParent(),t.destroy())})),this._popupList=[]},n(t,null,[{key:"instance",get:function(){return null==this._instance&&(this._instance=new t),this._instance}}]),t}())._instance=void 0,e._RF.pop()}}}));

System.register("chunks:///_virtual/PrizeBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./BonusController.ts","./Helper.ts"],(function(e){"use strict";var t,n,o,i,r,a,s,l,c,u,p,h,m,f,g,d,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,c=e.Node,u=e.Label,p=e.Button,h=e.sp,m=e.Component,f=e.v3},function(e){g=e.WAudioManager},function(e){d=e.BonusController},function(e){B=e.Helper}],execute:function(){var b,P,x,C,S,E,z,_,v;s._RF.push({},"a3c1aY02p5PcZWL9AjctdjI","PrizeBox",void 0);var y=l.ccclass,I=l.property,k=e("PRIZE_BOX_STATE",{IDLE:0,OPENING:1,QUICK_OPEN:2,OPENED:3,DEACTIVE:4});e("PrizeBox",(b=y("PrizeBox"),P=I(c),x=I(u),C=I(p),b((z=t((E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"animBox",z,i(t)),o(t,"lbPrize",_,i(t)),o(t,"btnBox",v,i(t)),t.parent=null,t.id=void 0,t._state=void 0,t}n(t,e);var s=t.prototype;return s.setState=function(e){this._state=e,this.onStateChange()},s.getState=function(){return this._state},s.onStateChange=function(){switch(this._state){case k.QUICK_OPEN:this.animBox.getComponent(h.Skeleton).timeScale=3;break;case k.OPENED:this.animBox.getComponent(h.Skeleton).timeScale=1;break;case k.OPENING:case k.DEACTIVE:this.btnBox.interactable=!1}},s.onLoad=function(){this.setState(k.IDLE),this.lbPrize.node.active=!1,this.animBox.getComponent(h.Skeleton).setAnimation(0,"Idle",!0)},s.touchBox=function(){var e=r(a().mark((function e(){var t,n,o,i=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TOUCH BOX: "+this.id),g.inst.playEffect("sfx_open_egg"),this.parent.getComponent(d).openAllOpeningBoxes(),this.setState(k.OPENING),e.next=6,this.parent.getComponent(d).touchBox(this.id);case 6:t=e.sent,this.animBox.getComponent(h.Skeleton).clearTracks(),n=t>0?"Open_Win":"Open_Lose",o=this.animBox.getComponent(h.Skeleton).setAnimation(0,n,!1),this.animBox.getComponent(h.Skeleton).setTrackCompleteListener(o,(function(e,n){i.setState(k.OPENED);var o=t>0?"Win_Idle":"Lose_Idle";i.animBox.getComponent(h.Skeleton).setAnimation(0,o,!0),t>0&&(i.lbPrize.node.setScale(f(0,0,0)),i.lbPrize.node.active=!0,i.lbPrize.string=B.formatMoney(t),B.animateScaleUp(i.lbPrize.node,1.5,void 0,1,0)),i.parent.getComponent(d).openBox(i.id,t)}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.showPrize=function(e){this.animBox.getComponent(h.Skeleton).setAnimation(0,"Win_Idle",!0),this.lbPrize.node.active=!0,this.lbPrize.string=B.formatMoney(e)},t}(m)).prototype,"animBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(E.prototype,"lbPrize",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(E.prototype,"btnBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=E))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/ScrollListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JSBridgeNetwork.ts"],(function(e){"use strict";var t,o,n,r,i,c,s,l,a,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,c=e._decorator,s=e.Label,l=e.Node,a=e.Component},function(e){u=e.JSBridgeNetwork}],execute:function(){var h,p,f,g,S;i._RF.push({},"c0379c5TghGio4BHjjSCMSi","ScrollListener",void 0);var y=c.ccclass,d=c.property;e("ScrollListener",(h=y("ScrollListener"),p=d(s),h((S=t((g=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=e.call.apply(e,[this].concat(i))||this,n(t,"lbMessage",S,r(t)),t._startY=void 0,t}o(t,e);var i=t.prototype;return i.onLoad=function(){this.node.on(l.EventType.MOUSE_WHEEL,this.onMouseWheel.bind(this),this)},i.onMouseWheel=function(e){u.instance.mouseScroll(e.getScrollX(),e.getScrollY())},i.onTouchStart=function(e){this._startY=e.getLocationY(),console.log("Touch start Y: "+this._startY)},i.onTouchMove=function(e){console.log("Touch move Y: "+e.getDelta().y);var t=e.getDelta().y;u.instance.mouseScroll(0,t)},i.start=function(){},i.onDestroy=function(){this.node.off(l.EventType.MOUSE_WHEEL)},t}(a)).prototype,"lbMessage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/StickyWild.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./WSymbol.ts"],(function(t){"use strict";var i,e,n,r,o,c,s,l,a;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,c=t._decorator,s=t.Component},function(t){l=t.SYMBOL_TYPE},function(t){a=t.WSymbol}],execute:function(){var u,p,y,f,d;o._RF.push({},"2f883xm8zBP7LDa5+4R9WPn","StickyWild",void 0);var W=c.ccclass,h=c.property;t("StickyWild",(u=W("StickyWild"),p=h(a),u((d=i((f=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return i=t.call.apply(t,[this].concat(o))||this,n(i,"stickyWildList",d,r(i)),i}return e(i,t),i.prototype.onLoad=function(){this.stickyWildList.forEach((function(t){t.setType(l.WILD),t.node.active=!1}))},i}(s)).prototype,"stickyWildList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=f))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts"],(function(t){"use strict";var e,i,r,n,s,o,a,u,c,l,m,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy,u=t._decorator,c=t.Label,l=t.EventHandler,m=t.Component},function(t){h=t.Helper}],execute:function(){var p,T,f,g,b,d,y,v,w;a._RF.push({},"e79fa7uGNJCyqJa2S26SAIZ","Timer",void 0);var _=u.ccclass,S=u.property;t("Timer",(p=_("Timer"),T=S(c),f=S(l),p((d=e((b=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,r(e,"lbTimer",d,n(e)),r(e,"startTimer",y,n(e)),r(e,"waitingToStart",v,n(e)),r(e,"finishTimerEvent",w,n(e)),e._timer=void 0,e}i(e,t);var a=e.prototype;return a.start=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.asyncDelay(this.waitingToStart);case 2:this.startRunningTimer();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.updateTimer=function(){if(0==this._timer)return this.unschedule(this.updateTimer),void(this.finishTimerEvent&&this.finishTimerEvent.emit([]));console.log("TIMER: "+this._timer),this._timer--,this.lbTimer.string=this._timer.toString()},a.setStartTimer=function(t){t>0&&(this.startTimer=t)},a.startRunningTimer=function(){this._timer=this.startTimer,this.lbTimer.string=this._timer.toString(),this.schedule(this.updateTimer,1)},a.resetTimer=function(){this.stopTimer(),this.startRunningTimer()},a.stopTimer=function(){this.unschedule(this.updateTimer)},a.onDestroy=function(){console.log("ON DESTROY TIMER"),this.unschedule(this.updateTimer)},e}(m)).prototype,"lbTimer",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(b.prototype,"startTimer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=e(b.prototype,"waitingToStart",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=e(b.prototype,"finishTimerEvent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),g=b))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/TouchToClose.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./Helper.ts"],(function(t){"use strict";var e,o,n,r,i,u,l,a,c,s,h,p,b,f,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){l=t.cclegacy,a=t._decorator,c=t.Node,s=t.EventHandler,h=t.Button,p=t.Label,b=t.Component},function(t){f=t.WAudioManager},function(t){T=t.Helper}],execute:function(){var y,C,d,v,w,g,m,z,B,D,E,x,H,P;l._RF.push({},"4d30f79OwdBY4/Pm1oyp4ox","TouchToClose",void 0);var S=a.ccclass,_=a.property;t("TouchToClose",(y=S("TouchToClose"),C=_(c),d=_(s),v=_(h),w=_(p),y((z=e((m=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,n(e,"nodeToClose",z,r(e)),n(e,"touchEvent",B,r(e)),n(e,"btnClose",D,r(e)),n(e,"waitToTouch",E,r(e)),n(e,"lbContent",x,r(e)),n(e,"showContent",H,r(e)),n(e,"playSoundTouchButton",P,r(e)),e}o(e,t);var l=e.prototype;return l.start=function(){var t=i(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.btnClose.interactable=!1,this.lbContent.node.active=!1,t.next=4,T.asyncDelay(this.waitToTouch);case 4:this.btnClose.interactable=!0,this.lbContent.node.active=this.showContent;case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.touchBtnClose=function(){console.log("TouchToClose - touchBtnClose"),this.playSoundTouchButton&&f.inst.playTouchButton(),this.btnClose.node.active=!1,this.touchEvent&&this.touchEvent.emit([]),this.nodeToClose&&(this.nodeToClose.removeFromParent(),this.nodeToClose.destroy())},l.onDestroy=function(){},e}(b)).prototype,"nodeToClose",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(m.prototype,"touchEvent",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),D=e(m.prototype,"btnClose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(m.prototype,"waitToTouch",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),x=e(m.prototype,"lbContent",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(m.prototype,"showContent",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=e(m.prototype,"playSoundTouchButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=m))||g));l._RF.pop()}}}));

System.register("chunks:///_virtual/TurboButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./Config.ts","./LocalStorage.ts"],(function(t){"use strict";var e,n,i,o,a,r,s,u,c,p,l,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,s=t.Node,u=t.Label,c=t.Component},function(t){p=t.WAudioManager},function(t){l=t.MAX_SPEED_RATE},function(t){d=t.LocalStorage}],execute:function(){var R,h,f,b,_,g,v;a._RF.push({},"9ab66+ZU2VOiYZr//tI/vc9","TurboButton",void 0);var y=r.ccclass,T=r.property;t("TurboButton",(R=y("TurboButton"),h=T(s),f=T(u),R((g=e((_=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,i(e,"pnlSpeedRate",g,o(e)),i(e,"lbRate",v,o(e)),e._speedRate=void 0,e}n(e,t);var a=e.prototype;return a.start=function(){this._speedRate=1,this.pnlSpeedRate.active=!1},a.touchBtnTurbo=function(){var t;p.inst.playTouchButton(),this._speedRate++,this._speedRate>l&&(this._speedRate=1),null==(t=this.node.getComponent(d))||t.setTurboRate(this._speedRate),this.setRate(this._speedRate)},a.getRate=function(){return this._speedRate},a.setRate=function(t){this._speedRate=t,this.pnlSpeedRate.active=this._speedRate>1,this.lbRate.string="x"+this._speedRate},e}(c)).prototype,"pnlSpeedRate",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(_.prototype,"lbRate",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=_))||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/UmOneToMultiListener.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,n,e,i;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,i=t.error}],execute:function(){var o,s,a,u;n._RF.push({},"a92f3+ZM55LX7buvKtd9Ko2","UmOneToMultiListener",void 0);var l=e.ccclass,c=t("UmOneToMultiListener",l("UmOneToMultiListener")(((s=function(){function t(){}return t.on=function(t,r,n){var e={handler:r,target:n},i=this.handlers[t];i||(i=[],this.handlers[t]=i);for(var o=0;o<i.length;o++)if(!i[o])return i[o]=e,o;return i.push(e),i.length},t.off=function(t,r,n){var e=this.handlers[t];if(e)for(var i=0;i<e.length;i++){var o=e[i];if(o.handler===r&&(!n||n===o.target)){e.splice(i,1);break}}},t.dispatchEvent=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),e=1;e<r;e++)n[e-1]=arguments[e];var i,o=this.handlers[t];for(i=1;i<arguments.length;i++);if(o)for(i=0;i<o.length;i++){var s=o[i];s.handler&&s.handler.apply(s.target,n)}},t.setSupportEventList=function(t){if(!(t instanceof Array))return i("supportEvent was not array"),!1;for(var r in this.supportEvent={},t){var n=t[r];this.supportEvent[n]=r}return!0},t}()).handlers=void 0,s.supportEvent=void 0,o=s))||o);t("clientEventUm",l("clientEventUm")(((u=function(t){function n(){return t.apply(this,arguments)||this}return r(n,t),n}(c)).handlers={},a=u))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/UmSwitchButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,r,o,s,a,l,u,c,p,f,h,b;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,a=t.CCFloat,l=t.Sprite,u=t.Label,c=t.SpriteFrame,p=t.Node,f=t.EventHandler,h=t.tween,b=t.Button}],execute:function(){var m,d,g,_,w,S,y,T,z,F,v,B,C,D,P,I,L,U,H,N,O;o._RF.push({},"9c2cchBvJJBGbYarl3C368a","UmSwitchButton",void 0);var k=s.ccclass,J=s.property;t("UmSwitchButton",(m=k("UmSwitchButton"),d=J(a),g=J(l),_=J(u),w=J(c),S=J(c),y=J(c),T=J(c),z=J(p),F=J(f),m((C=i((B=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,n(i,"animTime",C,r(i)),n(i,"dot",D,r(i)),n(i,"title",P,r(i)),n(i,"spf_off",I,r(i)),n(i,"spf_on",L,r(i)),n(i,"spf_dot_off",U,r(i)),n(i,"spf_dot_on",H,r(i)),n(i,"listTargetPos",N,r(i)),i.status=!0,n(i,"onSwitched",O,r(i)),i}e(i,t);var o=i.prototype;return o.setInitStatus=function(t){this.status=t,this.dot.node.position=this.getDotTarget(this.status),this.setSpriteFrame(t)},o.onClicked=function(t){var i=this;console.log("SWITCH ON CLICK"),this.interactable=!1,this.status=!this.status,h(this.dot.node).to(this.animTime,{position:this.getDotTarget(this.status)}).call((function(){i.interactable=!0,i.setSpriteFrame(i.status)})).start(),this.onSwitched&&this.onSwitched.emit([])},o.getDotTarget=function(t){return t?this.listTargetPos[1].position:this.listTargetPos[0].position},o.setSpriteFrame=function(t){t?(this.normalSprite=this.spf_on,this.dot.spriteFrame=this.spf_dot_on):(this.normalSprite=this.spf_off,this.dot.spriteFrame=this.spf_dot_off)},o.updateTitle=function(){this.title.string=this.status?"ON":"OFF"},i}(b)).prototype,"animTime",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),D=i(B.prototype,"dot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(B.prototype,"title",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(B.prototype,"spf_off",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(B.prototype,"spf_on",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=i(B.prototype,"spf_dot_off",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=i(B.prototype,"spf_dot_on",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(B.prototype,"listTargetPos",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=i(B.prototype,"onSwitched",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),v=B))||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/WAudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts"],(function(i){"use strict";var t,s,e,u,n,o,h,c,f,l,a,_,r;return{setters:[function(i){t=i.createClass,s=i.asyncToGenerator,e=i.regeneratorRuntime},function(i){u=i.cclegacy,n=i.AudioClip,o=i.resources,h=i.director,c=i.AudioSource,f=i.tween,l=i.game,a=i.Game,_=i.Node},function(i){r=i.Helper}],execute:function(){u._RF.push({},"ba231HNbOFPOZD8JqDb4IdL","WAudioManager",void 0),i("WAudioManager",function(){function i(){this.musicPath="sounds/bgm/",this.effectPath="sounds/sfx/",this.FADE_DURATION=.5,this._bgmAS=null,this._clipAS=null,this._sfx={},this._idSfx=0,this._audiosPool=[],this._isActive=!0,this._mutingMusic=!1,this._mutingEffect=!1,this._musicVolume=.25,this._effectVolume=1;var i=new _;i.name="__audioMgr__",h.getScene().addChild(i),h.addPersistRootNode(i),this._bgmAS=i.addComponent(c),this._clipAS=i.addComponent(c),l.on(a.EVENT_HIDE,this._onHideGame,this),l.on(a.EVENT_SHOW,this._onShowGame,this)}var u=i.prototype;return u._onHideGame=function(){this._isActive=!1,this._mutingMusic||this.pauseBGM(!1),this._mutingEffect||(this.pauseClip(!1),this.pauseAllEffects(!1))},u._onShowGame=function(){this._isActive=!0,this._mutingMusic||this.resumeBGM(!1),this._mutingEffect||(this.resumeClip(!1),this.resumeAllEffects(!1))},u.playTouchButton=function(){this.playOneShot("sfx_click_button")},u.playOneShot=function(i,t){var s=this;if(void 0===t&&(t=1),!this.isMutingEffect)if(i instanceof n)this._clipAS.playOneShot(i,t);else{var e=this.effectPath+i;o.load(e,(function(i,e){i||s._clipAS.playOneShot(e,t)}))}},u.playBGM=function(i,t){var s=this;if(void 0===t&&(t=!1),this._isActive){this._bgmAS.playing&&this._bgmAS.stop();var e=this.musicPath+i,u=o.get(e,n);if(u){var h=this._bgmAS;h.clip=u,console.log("CLIP PLAY BGM: "+this._bgmAS.clip),this.isMutingMusic?(this._bgmAS.volume=0,this._bgmAS.play(),h.loop=!0,setTimeout((function(){s._bgmAS.pause()}),200)):(h.volume=this._musicVolume,h.loop=!0,t?(this._bgmAS.volume=0,this._bgmAS.play(),this.fade(this._bgmAS,this._musicVolume,this.FADE_DURATION)):(this._bgmAS.volume=this._musicVolume,this._bgmAS.play()))}}},u.pauseBGM=function(i){var t=this;void 0===i&&(i=!0),this._bgmAS.playing&&(i?this.fade(this._bgmAS,0,this.FADE_DURATION,(function(){t._bgmAS.pause()})):this._bgmAS.pause())},u.resumeBGM=function(i){void 0===i&&(i=!0),this.isMutingMusic||this._bgmAS.playing||(i?(this._bgmAS.volume=0,this._bgmAS.play(),this.fade(this._bgmAS,this._musicVolume,this.FADE_DURATION)):(this._bgmAS.volume=this._musicVolume,console.log("CLIP RESUME BGM: "+this._bgmAS.clip),this._bgmAS.play()))},u.playClip=function(){var i=s(e().mark((function i(t,s,u,h){var c,f,l;return e().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(void 0===s&&(s=!1),void 0===u&&(u=!0),void 0===h&&(h=null),this._isActive){i.next=5;break}return i.abrupt("return");case 5:if(!this.isMutingEffect){i.next=7;break}return i.abrupt("return");case 7:if(this._clipAS.playing&&this._clipAS.stop(),c=this.musicPath+t,!(f=o.get(c,n))){i.next=21;break}return this._bgmAS.playing&&this.pauseBGM(),(l=this._clipAS).clip=f,l.volume=this._musicVolume,l.loop=s,l.play(),i.next=19,r.asyncDelay(f.getDuration());case 19:u&&this.resumeBGM(),!s&&h&&h();case 21:case"end":return i.stop()}}),i,this)})));return function(t,s,e,u){return i.apply(this,arguments)}}(),u.stopClip=function(i,t){var s=this;void 0===i&&(i=!0),void 0===t&&(t=null),this._clipAS.playing&&this.fade(this._clipAS,0,this.FADE_DURATION,(function(){s._clipAS.stop(),t&&t()})),i&&this.resumeBGM()},u.pauseClip=function(i,t){var s=this;void 0===i&&(i=!0),void 0===t&&(t=null),this._clipAS.playing&&(i?this.fade(this._clipAS,0,this.FADE_DURATION,(function(){s._clipAS.pause(),t&&t()})):this._clipAS.pause())},u.resumeClip=function(i,t){var s=this;void 0===i&&(i=!0),void 0===t&&(t=null),this._isActive&&this._clipAS.playing&&(i?this.fade(this._clipAS,0,this.FADE_DURATION,(function(){s._clipAS.play(),t&&t()})):this._clipAS.play())},u.playEffect=function(i,t,s){var e=this;if(void 0===t&&(t=!1),void 0===s&&(s=null),this._isActive&&!this.isMutingEffect){var u=this.effectPath+i,f=o.get(u,n);if(f){this._idSfx++;var l=null;if(this._audiosPool.length)l=this._audiosPool.shift();else l=h.getScene().getChildByName("__audioMgr__").addComponent(c);var a=this._idSfx+"_"+i;return l.sfx_id=a,l.clip=f,l.volume=this._effectVolume,l.loop=t,l.callback=s,l.play(),this._sfx[a]=l,t||setTimeout((function(i){var t=e._sfx[i];t&&(t.isValid&&(t.stop(),e._audiosPool.push(t)),delete e._sfx[i],t.callback&&t.callback())}),1e3*f.getDuration(),a),a}return null}},u.stopEffect=function(i,t){var s=this;void 0===t&&(t=!1);var e=this._sfx[i];return!!e&&(e.playing&&t?this.fade(e,0,this.FADE_DURATION,(function(){e.isValid&&(e.stop(),s._audiosPool.push(e)),delete s._sfx[i]})):(e.isValid&&(e.stop(),this._audiosPool.push(e)),delete this._sfx[i]),!0)},u.stopEffectByName=function(i,t){void 0===t&&(t=!1);for(var s=!0,e=0,u=Object.values(this._sfx);e<u.length;e++){var n=u[e];n&&n.sfx_id.includes(i)&&(s=s&&this.stopEffect(n.sfx_id,t))}return s},u.resumeEffect=function(i,t){void 0===t&&(t=!1);var s=this._sfx[i];s&&!s.playing&&(t?(s.volume=0,s.play(),this.fade(s,this._effectVolume,this.FADE_DURATION)):(s.volume=this._effectVolume,s.play()))},u.pauseEffect=function(i,t){void 0===t&&(t=!1);var s=this._sfx[i];s&&s.playing&&(t?this.fade(s,0,this.FADE_DURATION,(function(){s.pause()})):s.pause())},u.stopAllEffects=function(i){var t=this;void 0===i&&(i=!1),Object.keys(this._sfx).forEach((function(s){t.stopEffect(s,i)}))},u.pauseAllEffects=function(i){var t=this;void 0===i&&(i=!1),Object.values(this._sfx).forEach((function(s){s&&t.pauseEffect(s.sfx_id,i)}))},u.resumeAllEffects=function(i){var t=this;void 0===i&&(i=!1),Object.values(this._sfx).forEach((function(s){s&&t.resumeEffect(s.sfx_id,i)}))},u.fade=function(i,t,s,e){void 0===e&&(e=null),f(i).to(s,{volume:t}).call((function(){e&&e()})).start()},u.destroy=function(){this._bgmAS&&this._bgmAS.stop(),this.stopClip(),this.stopAllEffects(),this._sfx={},this._audiosPool.length=0,l.off(a.EVENT_HIDE,this._onHideGame,this),l.off(a.EVENT_SHOW,this._onShowGame,this)},t(i,[{key:"isMutingMusic",get:function(){return this._mutingMusic},set:function(i){this._mutingMusic!=i&&(this._mutingMusic=i),this._mutingMusic?this.pauseBGM(!1):this.resumeBGM(!1)}},{key:"isMutingEffect",get:function(){return this._mutingEffect},set:function(i){this._mutingEffect!=i&&(this._mutingEffect=i),this._mutingEffect&&(this.stopClip(!1,null),this.stopAllEffects(!1))}},{key:"musicVolume",get:function(){return this._musicVolume},set:function(i){this._musicVolume!=i&&(this._musicVolume=i)}},{key:"effectVolume",get:function(){return this._effectVolume},set:function(i){this._effectVolume!=i&&(this._effectVolume=i)}}],[{key:"inst",get:function(){return null==this._inst&&(this._inst=new i),this._inst}}]),i}())._inst=void 0,u._RF.pop()}}}));

System.register("chunks:///_virtual/WAuto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./LocalStorage.ts","./UmSwitchButton.ts","./Helper.ts","./WPopup.ts"],(function(t){"use strict";var e,i,n,a,o,s,r,u,c,l,h,p,d,f,b,B,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,r=t._decorator,u=t.Node,c=t.Button,l=t.EditBox,h=t.Sprite,p=t.Label},function(t){d=t.WAudioManager},function(t){f=t.LocalStorage},function(t){b=t.UmSwitchButton},function(t){B=t.Helper},function(t){A=t.WPopup}],execute:function(){var g,S,y,W,v,w,m,T,C,D,I,_,z,N,O,P,k,E,H;s._RF.push({},"49736oZ0a5Bvb9zi/Rh7neu","WAuto",void 0);var L=r.ccclass,M=r.property,U=t("AUTO_TYPE",{NO_AUTO:0,BASIC:1,ADVANCE:2,BOTH:3});t("WAuto",(g=L("WAuto"),S=M(u),y=M(u),W=M(c),v=M(b),w=M(l),m=M(l),T=M(l),C=M(h),g((_=e((I=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,n(e,"pnlAdvance",_,a(e)),n(e,"pnlBasic",z,a(e)),n(e,"btnStartAuto",N,a(e)),n(e,"switchButton",O,a(e)),n(e,"edbBlDecrease",P,a(e)),n(e,"edbBlIncrease",k,a(e)),n(e,"edbWin",E,a(e)),n(e,"sprSelected",H,a(e)),e._data=Object.create(null),e._gotBasicAuto=0,e}i(e,t);var s=e.prototype;return s.setData=function(t){t&&Object.assign(this._data,t)},s.start=function(){console.log("WAuto - start"),this.pnlAdvance.active=!1,this.pnlBasic.active=!0,this.switchButton.setInitStatus(!1),this.btnStartAuto.interactable=!1,this.sprSelected.node.active=!1},s.finishShowing=function(){this.hide(),this.doneShow&&this.doneShow(this.data)},s.touchBtnOpt=function(t,e){d.inst.playTouchButton();var i=parseInt(e);this.data.autoCount=i,this.sprSelected.node.setPosition(t.target.getPosition()),this.sprSelected.node.getChildByName("imgInfinity").active=i<0,this.sprSelected.node.getChildByName("lbAutoCount").active=i>0,this.sprSelected.node.getChildByName("lbAutoCount").getComponent(p).string=B.formatMoney(i),this.sprSelected.node.active=!0,this.setStateBtnStartAuto(),this._gotBasicAuto=1},s.onSwitched=function(){d.inst.playTouchButton(),this.data.stopWithJP=this.switchButton.status,this.setStateBtnStartAuto()},s.editBoxDidEnded=function(t,e){console.log(t.string);var i=t.string.replace(",",""),n=parseFloat(i);switch(Number.isNaN(n)?(n=0,t.string=""):t.string=B.formatMoney(i),e){case"stopWithBlDecrease":this.data.stopWithBlDecrease=n;break;case"stopWithBlIncrease":this.data.stopWithBlIncrease=n;break;case"stopWithWin":this.data.stopWithWin=n}this.setStateBtnStartAuto()},s.setStateBtnStartAuto=function(){var t=!1;(t=0!=this.data.autoCount)||(t=this.data.stopWithJP),t||(t=this.data.stopWithBlDecrease>0),t||(t=this.data.stopWithBlIncrease>0),t||(t=this.data.stopWithWin>0),this.btnStartAuto.interactable=t},s.touchShowAdvance=function(){d.inst.playTouchButton(),this.pnlAdvance.active=!this.pnlAdvance.active},s.touchStartAuto=function(){d.inst.playTouchButton(),this.checkTypeOfAuto(),this.node.getComponent(f).setAutoData(this.data),this.finishShowing()},s.checkTypeOfAuto=function(){this.pnlAdvance.active?this._gotBasicAuto?this.gotAdvanceAuto()?this.data.autoType=U.BOTH:this.data.autoType=U.BASIC:this.data.autoType=U.ADVANCE:this.data.autoType=U.BASIC},s.gotAdvanceAuto=function(){return!!this.data.stopWithJP||(this.data.stopWithBlDecrease>0||(this.data.stopWithBlIncrease>0||this.data.stopWithWin>0))},o(e,[{key:"data",get:function(){return this._data}}]),e}(A)).prototype,"pnlAdvance",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(I.prototype,"pnlBasic",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(I.prototype,"btnStartAuto",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(I.prototype,"switchButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(I.prototype,"edbBlDecrease",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(I.prototype,"edbBlIncrease",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(I.prototype,"edbWin",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(I.prototype,"sprSelected",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=I))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/WBetting.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./CountingNumberSimple.ts","./LocalStorage.ts","./UmSwitchButton.ts","./Config.ts","./Helper.ts","./WPopup.ts"],(function(t){"use strict";var n,i,e,o,a,u,s,r,l,c,h,d,p,f,g,b,m,S,L;return{setters:[function(t){n=t.applyDecoratedDescriptor,i=t.inheritsLoose,e=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){u=t.cclegacy,s=t._decorator,r=t.Label,l=t.Slider,c=t.Button,h=t.Sprite,d=t.Node},function(t){p=t.WAudioManager},function(t){f=t.CountingNumberSimple},function(t){g=t.LocalStorage},function(t){b=t.UmSwitchButton},function(t){m=t.LINE_COUNT},function(t){S=t.Helper},function(t){L=t.WPopup}],execute:function(){var C,w,B,y,R,v,z,W,O,_,D,I,N,T,k;u._RF.push({},"c8b86OnzrNJYbpwBZ/hFmvR","WBetting",void 0);var M=s.ccclass,P=s.property;t("WBetting",(C=M("WBetting"),w=P(r),B=P(l),y=P(c),R=P(b),v=P(h),z=P(d),C((_=n((O=function(t){function n(){for(var n,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return n=t.call.apply(t,[this].concat(a))||this,e(n,"lbLineCount",_,o(n)),e(n,"sldLine",D,o(n)),e(n,"btnRoomList",I,o(n)),e(n,"switchButton",N,o(n)),e(n,"lineList",T,o(n)),e(n,"pnlSelected",k,o(n)),n._data=Object.create(null),n}i(n,t);var u=n.prototype;return u.setData=function(t){t&&Object.assign(this._data,t)},u.start=function(){console.log("WBetting - start"),this.updateRoomLabel(),this.updateRoomState(),this.updateLineState()},u.finishShowing=function(){this.node.getComponent(g).setBettingData(this.data),this.hide(),this.doneShow&&this.doneShow(this.data)},u.onSwitched=function(){p.inst.playTouchButton(),this.data.lineCount=m,this.updateLineState()},u.updateSwitchButtonState=function(){this.switchButton.setInitStatus(this.data.lineCount==m),this.switchButton.enabled=!(this.data.lineCount==m)},u.updateRoomLabel=function(){var t=this;this.btnRoomList.forEach((function(n,i){if(n){var e=(t.data.slotDetails[i].price*t.data.lineCount).toString();n.node.getChildByName("lbRoom").getComponent(r).string=S.formatMoney(e)}}))},u.updateRoomState=function(){this.btnRoomList.forEach((function(t,n){t&&(t.interactable=!0)})),this.btnRoomList[this.data.roomIndex].interactable=!1,this.pnlSelected.setPosition(this.btnRoomList[this.data.roomIndex].node.getPosition()),this.updateJackpot()},u.updateJackpot=function(){var t=this.data.slotDetails[this.data.roomIndex].jackpotAmount;this.node.getComponent(f).updateTargetValue(t),this.node.getComponent(f).startCounting(.5)},u.updateLineState=function(){var t=this,n=1==this.data.lineCount?" line":" lines";this.lbLineCount.string=this.data.lineCount.toString()+n,this.lineList.forEach((function(n,i){n&&(n.node.active=i<=t.data.lineCount)})),this.updateSliderState(),this.updateSwitchButtonState(),this.updateRoomLabel()},u.touchRoom=function(t,n){console.log("TOUCH ROOM: "+n),p.inst.playTouchButton();var i=n;this.data.roomIndex=i,this.updateRoomState()},u.slideChangeLine=function(){var t=this.sldLine.progress;this.data.lineCount=Math.round(t*m),0==this.data.lineCount&&(this.data.lineCount=1),this.updateLineState()},u.updateSliderState=function(){var t=this.data.lineCount/m;this.sldLine.progress=t,this.sldLine.getComponent(h).fillRange=t},u.touchOk=function(){p.inst.playTouchButton(),this.finishShowing()},a(n,[{key:"data",get:function(){return this._data}}]),n}(L)).prototype,"lbLineCount",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(O.prototype,"sldLine",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(O.prototype,"btnRoomList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=n(O.prototype,"switchButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(O.prototype,"lineList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=n(O.prototype,"pnlSelected",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=O))||W));u._RF.pop()}}}));

System.register("chunks:///_virtual/WBoardGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WSymbol.ts","./WReel.ts","./Helper.ts","./WWinAmount.ts","./ExpandWild.ts","./Config.ts","./WAudioManager.ts"],(function(t){"use strict";var e,n,r,i,s,a,o,u,c,l,h,f,p,d,w,m,N,S,b,_,v,x,y,g,W;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.Node,h=t.Prefab,f=t.instantiate,p=t.Component},function(t){d=t.WSymbol},function(t){w=t.REEL_STATE,m=t.WReel},function(t){N=t.Helper},function(t){S=t.WWinAmount},function(t){b=t.ExpandWild},function(t){_=t.BOARD_FORMAT,v=t.TIME_TO_SHOW_NEARWIN,x=t.BONUS_NEARWIN,y=t.SCATTER_NEARWIN,g=t.TIME_TO_SHOW_RESULT},function(t){W=t.WAudioManager}],execute:function(){var E,O,R,I,A,C,P,k,T,L,B,D,F;u._RF.push({},"99516o3E7hJr5jPNXF6cvMN","WBoardGame",void 0);var G=c.ccclass,U=c.property,z=t("BOARD_STATE",{IDLE:0,SPINNING:1,ON_NEARWIN_BONUS:2,ON_NEARWIN_SCATTER:3,STOP:4,SHOW_RESULT:5});t("WBoardGame",(E=G("WBoardGame"),O=U(l),R=U(l),I=U(h),A=U(h),C=U(S),E((T=e((k=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,r(e,"listOfReels",T,i(e)),r(e,"pnlFeature",L,i(e)),r(e,"expandWild",B,i(e)),r(e,"nearWin",D,i(e)),r(e,"winAmount",F,i(e)),e.listOfSymbols=[],e._state=void 0,e._bonusSbCount=0,e._scatterSbCount=0,e._showedBonusNearwin=!1,e._showedScatterNearwin=!1,e._activeReel=null,e._data=Object.create(null),e}n(e,t);var u=e.prototype;return u.setData=function(t){t&&Object.assign(this._data,t)},u.setState=function(t){this._state=t,this.onStateChange()},u.onStateChange=function(){switch(this._state){case z.IDLE:break;case z.SPINNING:W.inst.playEffect("sfx_reel_spin",!0);break;case z.ON_NEARWIN_BONUS:this._showedBonusNearwin=!0,this.addNearwinAnim();break;case z.ON_NEARWIN_SCATTER:this._showedScatterNearwin=!0,this.addNearwinAnim();break;case z.STOP:this.reset(),W.inst.stopEffectByName("sfx_reel_spin",!0)}},u.start=function(){this.winAmount.hide()},u.reset=function(){this.setStateOfAllReels(w.IDLE),this._showedBonusNearwin=!1,this._showedScatterNearwin=!1,this._bonusSbCount=0,this._scatterSbCount=0},u.startSpinning=function(){var t=a(o().mark((function t(){var e,n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setState(z.SPINNING),this.reset(),e=0;case 3:if(!(e<this.listOfReels.length)){t.next=13;break}if(!(n=this.listOfReels[e])){t.next=10;break}return(r=n.getComponent(m)).setTurboRate(this.data.reelVelocityRate),t.next=10,r.spin(e);case 10:++e,t.next=3;break;case 13:case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.stopSpinning=function(){var t=a(o().mark((function t(){var e,n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 2:if(!(e<this.listOfReels.length)){t.next=13;break}for((n=Object.create(null)).spinResult=[],r=0;r<this.data.spinResult.length;++r)n.spinResult.push(this.data.spinResult[r][e]);return(i=this.listOfReels[e].getComponent(m)).setData(n),t.next=10,this.stopReel(i);case 10:++e,t.next=2;break;case 13:return this.setState(z.STOP),t.abrupt("return",Promise.resolve());case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.stopReel=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.showNearwinBonus(e);case 2:return t.next=4,this.showNearwinScatter(e);case 4:return t.next=6,e.stop();case 6:return t.next=8,this.removeNearwinAnim();case 8:this._bonusSbCount+=e.bonusSbCount(),this._scatterSbCount+=e.scatterSbCount(),(this._showedBonusNearwin&&e.bonusSbCount()>0||this._showedScatterNearwin&&e.scatterSbCount()>0)&&W.inst.playEffect("sfx_nearwin_scatter_appear"),this.showExpandWildIfNeed(e);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.showNearwinBonus=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._showedScatterNearwin){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(!(this._bonusSbCount<x)){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return W.inst.playEffect("sfx_nearwin_scatter"),this._activeReel=e,this.setState(z.ON_NEARWIN_BONUS),e.setState(w.ON_NEARWIN),this.listOfReels.forEach((function(t,n){var r=t.getComponent(m);r.getId()<e.getId()&&r.setState(w.OFF_NEARWIN_BONUS_AND_STOPPED),r.getId()>e.getId()&&r.setState(w.OFF_NEARWIN_AND_SPINNING)})),t.next=11,N.asyncDelay(v);case 11:return t.abrupt("return",Promise.resolve());case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.showNearwinScatter=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._showedBonusNearwin){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(!(this._scatterSbCount<y)){t.next=4;break}return t.abrupt("return",Promise.resolve());case 4:return W.inst.playEffect("sfx_nearwin_scatter"),this._activeReel=e,this.setState(z.ON_NEARWIN_SCATTER),e.setState(w.ON_NEARWIN),this.listOfReels.forEach((function(t,n){var r=t.getComponent(m);r.getId()<e.getId()&&r.setState(w.OFF_NEARWIN_SCATTER_AND_STOPPED),r.getId()>e.getId()&&r.setState(w.OFF_NEARWIN_AND_SPINNING)})),t.next=11,N.asyncDelay(3);case 11:return t.abrupt("return",Promise.resolve());case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.showExpandWildIfNeed=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.gotExpandWild&&e.hasWild()){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(!this._showedBonusNearwin&&!this._showedScatterNearwin){t.next=5;break}return t.next=5,N.asyncDelay(.5);case 5:return t.next=7,this.showExpandWild(e);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.showExpandWild=function(){var t=a(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return W.inst.playEffect("sfx_expanding_wild"),n=N.convertUICordinate(e.node.getPosition(),e.node.parent,this.pnlFeature),t.next=4,e.hideAllSymbols();case 4:return r=f(this.expandWild),this.pnlFeature.addChild(r),r.setPosition(n),r.getComponent(b).show(.25),t.next=10,N.asyncDelay(.5);case 10:return t.abrupt("return",Promise.resolve());case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.handleExpandWildIfNeed=function(){var t=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.pnlFeature.getComponentsInChildren(b).forEach(a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.fadeOutPromise(e.node,.2);case 2:e.node.removeFromParent(),e.node.destroy();case 4:case"end":return t.stop()}}),t)})))),t.next=4,N.asyncDelay(.2);case 4:return e=[],this.listOfReels.forEach((function(t,n){if(t){var r=t.getComponent(m);r.gotExpandWild&&r.hasWild()&&e.push(r.changeAllSymbolsToWild())}})),t.next=8,Promise.all(e);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.handleStickyWildIfNeed=function(){return Promise.resolve()},u.addNearwinAnim=function(){var t=N.convertUICordinate(this._activeReel.node.getPosition(),this._activeReel.node.parent,this.pnlFeature),e=f(this.nearWin);this.pnlFeature.addChild(e),e.setPosition(t)},u.removeNearwinAnim=function(){var t=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.pnlFeature.getChildByName("NearWin"))){t.next=7;break}return W.inst.stopEffectByName("sfx_nearwin_scatter",!0),t.next=5,N.asyncDelay(.5);case 5:e.removeFromParent(),e.destroy();case 7:return t.abrupt("return",Promise.resolve());case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.getListOfSb=function(){var t=this,e=0;return this.listOfSymbols=[],this.listOfReels.forEach((function(n,r){if(n){var i=n.getComponent(m);i.mainGroup.symbolsList.forEach((function(n,r){if(n){var s=n.getComponent(d);if(i.gotStickyWild&&s.isWild()){var a=i.stickyWilds.stickyWildList[r];a.setIndex(e++),t.listOfSymbols.push(a.node)}else s.setIndex(e++),t.listOfSymbols.push(n)}}))}})),Promise.resolve()},u.showAllWinSymbols=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState(z.SHOW_RESULT),t.next=3,Promise.all([this.highLightWinSb(this.getListWinSbId(),void 0,1*g/this.data.reelVelocityRate)]);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.highLightWinSb=function(){var t=a(o().mark((function t(e,n,r){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),void 0===r&&(r=g),0==n&&(n=e.length),i=[],this.listOfSymbols.forEach((function(t){var s=t.getComponent(d);e.indexOf(s.getIndex())<0?i.push(s.lowLight(r)):e.indexOf(s.getIndex())>=n?i.push(s.hightLightWithVfx(r)):i.push(s.highLightWithVfxAndAnim(r))})),t.next=7,Promise.all(i);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),u.getListWinSbId=function(){var t=this,e=[];return this.data.winLines.forEach((function(n,r){var i=t.getWinSbIdOfWinLine(n.rows,n.winSymbolCount);e=[].concat(e,i)})),e.filter((function(t,n){return e.indexOf(t)===n}))},u.getWinSbIdOfWinLine=function(t,e){void 0===e&&(e=0);var n=[];if(t){0==e&&(e=t.length);for(var r=0;r<e;r++){for(var i=t[r],s=0;s<r;s++)i+=_[s];n.push(i)}}return n},u.resetAllSymbols=function(){var t=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],this.listOfSymbols.forEach((function(t){var n=t.getComponent(d);e.push(n.reset())})),t.next=4,Promise.all(e);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showWinLinesSequence=function(){var t=a(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.data.winLines.length)){t.next=7;break}return t.next=4,this.showPerLine(this.data.winLines[e],e);case 4:++e,t.next=1;break;case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showPerLine=function(){var t=a(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._state!=z.SPINNING){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(!e){t.next=11;break}return r=this.getWinSbIdOfWinLine(e.rows),this.winAmount.startCounting(e.winRate*this.data.roomValue,.5),this.winAmount.showWithFade(.2),t.next=8,this.highLightWinSb(r,e.winSymbolCount);case 8:return t.next=10,N.asyncDelay(.1);case 10:this.winAmount.hide();case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.setStateOfAllReels=function(t){this.listOfReels.forEach((function(e,n){e.getComponent(m).setState(t)}))},s(e,[{key:"data",get:function(){return this._data}}]),e}(p)).prototype,"listOfReels",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(k.prototype,"pnlFeature",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(k.prototype,"expandWild",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(k.prototype,"nearWin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(k.prototype,"winAmount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=k))||P));u._RF.pop()}}}));

System.register("chunks:///_virtual/WJackpot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CountingNumberSimple.ts"],(function(t){"use strict";var e,n,o,i,a,r,c,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){a=t.cclegacy,r=t._decorator,c=t.Component},function(t){p=t.CountingNumberSimple}],execute:function(){var u,s,l,h;a._RF.push({},"8a467aKG8FAC5cWX58PZptz","WJackpot",void 0);var f=r.ccclass,g=r.property;t("WJackpot",f("WJackpot")((l=e((s=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,o(e,"jackpot",l,i(e)),o(e,"change",h,i(e)),e}n(e,t);var a=e.prototype;return a.start=function(){this.setJackpotLabel()},a.updateJackpot=function(t){this.jackpot=t,this.setJackpotLabel()},a.setJackpotLabel=function(){this.getComponent(p).updateTargetValue(this.jackpot,3),this.getComponent(p).startCounting(.5)},a.onDestroy=function(){this.unschedule(this.updateJackpot)},e}(c)).prototype,"jackpot",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=e(s.prototype,"change",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=s))||u);a._RF.pop()}}}));

System.register("chunks:///_virtual/WNetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.mjs_cjs=&original=.js","./JSBridgeNetwork.ts","./Config.ts","./UmOneToMultiListener.ts","./PopupManager.ts","./index.js"],(function(n){"use strict";var e,t,r,o,c,i,s,a,u,l,p,h;return{setters:[function(n){e=n.createClass,t=n.asyncToGenerator,r=n.regeneratorRuntime},function(n){o=n.cclegacy},null,function(n){c=n.JSBridgeNetwork,i=n.INCOMMING_ACTION},function(n){s=n.LISTENER_EVENTS,a=n.default,u=n.ERROR_STRING},function(n){l=n.clientEventUm},function(n){p=n.PopupManager},function(n){h=n.default}],execute:function(){o._RF.push({},"e2aaf9u9mxKoonMPJv8O3i6","WNetworkManager",void 0),n("WNetworkManager",function(){function n(){this.browser=void 0,this._connection=void 0,this._accessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjQxNzEwNzMxMzIzMjUyNzM2IiwiZGlkIjoiNDUwNTI4NTU5NzY0Njg0ODAiLCJleHAiOjE3MTQ4OTUwMzcsImlzcyI6Imh0dHBzOi8vZ3JlZW53b3JtLmlvLyIsImF1ZCI6Imh0dHBzOi8vZ3JlZW53b3JtLmlvLyJ9.yqAmelBNhYZWIiNP1yVEfo8ZVXyUcYxIzXQp3qCBH_k",this._urlGameServer="https://game-uat.metahouse.casino/hubs/bitfarm",this._connected=!1,this._doneConnect=void 0,this._doneReconnect=void 0,this.browser=c.instance}var o=n.prototype;return o.connectToServer=function(){var n=t(r().mark((function n(){var e=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){console.log("Yeu cau gui token"),e.browser.addHandler(e.browser.verifyAction(i.AUTH),t(r().mark((function n(t){var o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t?t.access_token:e._accessToken,a.PORTAL_CURRENCY_ID=t&&t.wallet.currencyId.toString(),a.DECIMAL_DIGITS=t&&t.wallet.decimalDigits,a.EQUIVALENT_USD_RATE=t&&t.wallet.equivalentUsdRate,n.next=6,e.startConnection(o);case 6:case"end":return n.stop()}}),n)})))),e.browser.addHandler(e.browser.verifyAction(i.CURRENCY),t(r().mark((function n(t){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t&&t.wallet&&e.processChangeCurrency(t.wallet);case 1:case"end":return n.stop()}}),n)})))),e.browser.requestToken(),e._doneConnect=n})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o.startConnection=function(){var n=t(r().mark((function n(e){var t=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this._connection=null,this._connection=(new h.HubConnectionBuilder).withUrl(this._urlGameServer,{accessTokenFactory:function(){return e}}).build(),this._connection.onclose((function(n){t.addPopup(u.DISCONNECT_TO_SERVER)})),n.prev=3,n.next=6,this._connection.start();case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(3),this.addPopup(u.CONNECT_TO_SERVER),n.abrupt("return");case 12:console.log("WNetworkManager - RESPONSE CONNECT TO SERVER - connection: "+JSON.stringify(this._connection)),this._connected=!0,this._doneConnect&&this._doneConnect(),this._doneReconnect&&this._doneReconnect();case 16:case"end":return n.stop()}}),n,this,[[3,8]])})));return function(e){return n.apply(this,arguments)}}(),o.reconnectToServer=function(){var n=t(r().mark((function n(){var e=this;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){e._doneReconnect=n,e.browser.requestToken()})));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o.request=function(){var n=t(r().mark((function n(e){var t,o,c,i,s,a=arguments;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(t=a.length,o=new Array(t>1?t-1:0),c=1;c<t;c++)o[c-1]=a[c];if(console.log("ARGS: "+JSON.stringify(o)),!this._connection){n.next=10;break}return n.next=5,(i=this._connection).invoke.apply(i,[e].concat(o));case 5:return s=n.sent,console.log("response: "+s),n.abrupt("return",s);case 10:this.addPopup(u.CONNECT_TO_SERVER);case 11:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),o.processChangeCurrency=function(n){console.log("processChangeCurrency: "+JSON.stringify(n)),l.dispatchEvent(s.CHANGE_CURRENCY,n)},o.addPopup=function(n){var e=this;console.log("NETWORK MANAGER - addPopup"),p.instance.addPopupHasBothButtons(n,(function(){e.reconnectToServer()}))},e(n,[{key:"connected",get:function(){return this._connected}}],[{key:"instance",get:function(){return null==this._instance&&(this._instance=new n),this._instance}}]),n}())._instance=void 0,o._RF.pop()}}}));

System.register("chunks:///_virtual/WPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Helper.ts"],(function(e){"use strict";var n,t,r,o,i,s,u,a,c,p,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){u=e.cclegacy,a=e._decorator,c=e.Node,p=e.Component},function(e){f=e.Helper}],execute:function(){var h,l,d,w,v;u._RF.push({},"0ff5aisMpZJdKwrfE0+iriU","WPopup",void 0);var y=a.ccclass,m=a.property;e("WPopup",(h=y("WPopup"),l=m(c),h((v=n((w=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).doneShow=void 0,r(n,"winAmountNode",v,o(n)),n}t(n,e);var u=n.prototype;return u.start=function(){},u.showing=function(){var e=i(s().mark((function e(){var n=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f.fadeIn(this.node,.2),e.abrupt("return",new Promise((function(e){n.doneShow=e})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.finishShowing=function(){this.hide(),this.doneShow&&this.doneShow()},u.hide=function(){var e=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.node){e.next=5;break}return e.next=3,f.fadeOutPromise(this.node,.2);case 3:this.node.removeFromParent(),this.node.destroy();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.onDestroy=function(){console.log("ON DESTROY POPUP")},n}(p)).prototype,"winAmountNode",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w))||d));u._RF.pop()}}}));

System.register("chunks:///_virtual/WPopupBigWin.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./CountingNumberSimple.ts","./Helper.ts","./WPopup.ts","./WPopupIntro.ts"],(function(t){"use strict";var e,n,i,r,s,o,u,a,c,l,p,h,m,f,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){u=t.cclegacy,a=t._decorator,c=t.sp,l=t.Button},function(t){p=t.WAudioManager},function(t){h=t.CountingNumberSimple},function(t){m=t.Helper},function(t){f=t.WPopup},function(t){v=t.WPopupIntro}],execute:function(){var g,y,L,b,d,W,_;u._RF.push({},"a5b22/PzD9DDKrutQRE3qaN","WPopupBigWin",void 0);var A=a.ccclass,w=a.property;t("WPopupBigWin",(g=A("WPopupBigWin"),y=w(c.Skeleton),L=w(l),g((W=e((d=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,i(e,"animList",W,r(e)),i(e,"btnF2R",_,r(e)),e.currAnim=null,e.clickedToResult=!1,e.winAmount=void 0,e.betAmount=void 0,e.bwLevelRate=void 0,e._timeToPlayAnim=[5,5,5],e._targetWinLevel=0,e._currWinLevel=0,e._sfxNameByLevel=["sfx_bigwin","sfx_megawin","sfx_super_megawin"],e}n(e,t);var u=e.prototype;return u.start=function(){var t=s(o().mark((function t(){var e,n,i=this;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.winAmount/this.betAmount,this.bwLevelRate.forEach((function(t,n){e>=t&&(i._targetWinLevel=n)})),this.animList&&this.animList.length>0&&this.runAnimByLevel(0),p.inst.playEffect("sfx_coin_drop",!0),n=0;case 5:if(!(n<=this._targetWinLevel)){t.next=11;break}return t.next=8,this.countNumberByWinLevel(n);case 8:++n,t.next=5;break;case 11:this.clickedToResult||this.goToResult();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.countNumberByWinLevel=function(){var t=s(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("countNumberByWinLevel - "+e),!this.clickedToResult){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return n=0,n=e==this._targetWinLevel?this.winAmount:this.betAmount*this.bwLevelRate[e+1],this._currWinLevel=e,this.runAnimByLevel(e),this.getComponent(h).updateTargetValue(n),t.next=10,this.getComponent(h).startCounting(this._timeToPlayAnim[e]);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.runAnimByLevel=function(t){this.currAnim&&(this.currAnim.clearTracks(),this.currAnim.node.active=!1),p.inst.playEffect(this._sfxNameByLevel[t]),this.animList[t].node.active=!0,this.node.getComponent(v).setAnimIntro(this.animList[t]),this.node.getComponent(v).playAnimIntro(),this.currAnim=this.animList[t]},u.goToResult=function(){var t=s(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.clickedToResult=!0,this.btnF2R.node.active=!1,t.next=4,m.asyncDelay(.5);case 4:return this._currWinLevel<this._targetWinLevel&&this.runAnimByLevel(this._targetWinLevel),p.inst.stopEffectByName("sfx_coin_drop",!0),this.getComponent(h).updateTargetValue(this.winAmount),this.getComponent(h).finishCounting(),t.next=10,m.asyncDelay(4);case 10:this.finishShowing();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(f)).prototype,"animList",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_=e(d.prototype,"btnF2R",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=d))||b));u._RF.pop()}}}));

System.register("chunks:///_virtual/WPopupIntro.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var n,r,i,e,o,a,l,c,u;return{setters:[function(t){n=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.sp,c=t.Label,u=t.Component}],execute:function(){var s,p,m,I,f,b,h,y,S;o._RF.push({},"ffd3aaQKPxFqqgcAeaG0fQw","WPopupIntro",void 0);var d=a.ccclass,g=a.property;t("WPopupIntro",(s=d("WPopupIntro"),p=g(l.Skeleton),m=g(c),s((b=n((f=function(t){function n(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o))||this,i(n,"animIntro",b,e(n)),i(n,"lbIntro",h,e(n)),i(n,"animStartStr",y,e(n)),i(n,"animIdleStr",S,e(n)),n}r(n,t);var o=n.prototype;return o.start=function(){},o.setAnimIntro=function(t){this.animIntro=t},o.playAnimIntro=function(){var t=this;if(this.animIntro){this.animIntro.clearTracks();var n=this.animIntro.setAnimation(0,this.animStartStr,!1);this.animIntro.setTrackCompleteListener(n,(function(n,r){t.animIntro.clearTracks(),t.animIntro.setAnimation(0,t.animIdleStr,!0)}))}},o.stopAnimIntro=function(){this.animIntro&&this.animIntro.clearTracks()},o.updateLabelIntro=function(t){this.lbIntro&&(this.lbIntro.string=t)},n}(u)).prototype,"animIntro",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=n(f.prototype,"lbIntro",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(f.prototype,"animStartStr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Start"}}),S=n(f.prototype,"animIdleStr",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Idle"}}),I=f))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/WPopupMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./LocalStorage.ts","./Config.ts","./JSBridgeNetwork.ts"],(function(t){"use strict";var n,e,i,o,u,c,a,s,r,l,d,p,f,h,M,g,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){u=t.cclegacy,c=t._decorator,a=t.Button,s=t.Node,r=t.resources,l=t.Prefab,d=t.instantiate,p=t.Component},function(t){f=t.WAudioManager},function(t){h=t.LocalStorage},function(t){M=t.PREFAB_PATHS,g=t.default},function(t){b=t.JSBridgeNetwork}],execute:function(){var y,v,m,B,C,P,N,S,R,F,E,T,O;u._RF.push({},"16fcekMjTtEyraUllctZ14N","WPopupMenu",void 0);var w=c.ccclass,_=c.property;t("WPopupMenu",(y=w("WPopupMenu"),v=_(a),m=_(a),B=_(a),C=_(a),P=_(s),y((R=n((S=function(t){function n(){for(var n,e=arguments.length,u=new Array(e),c=0;c<e;c++)u[c]=arguments[c];return n=t.call.apply(t,[this].concat(u))||this,i(n,"btnSound",R,o(n)),i(n,"btnMusic",F,o(n)),i(n,"btnRealMode",E,o(n)),i(n,"btnFreeMode",T,o(n)),i(n,"pnlPopup",O,o(n)),n}e(n,t);var u=n.prototype;return u.start=function(){var t=this.getComponent(h).getMutingMusic(),n=this.getComponent(h).getMutingSound();this.btnMusic.node.getChildByName("iconOn").active=!t,this.btnMusic.node.getChildByName("iconOff").active=t,this.btnSound.node.getChildByName("iconOn").active=!n,this.btnSound.node.getChildByName("iconOff").active=n,this.btnFreeMode.node.active=!1},u.touchSound=function(){f.inst.playTouchButton(),f.inst.isMutingEffect=!f.inst.isMutingEffect,this.getComponent(h).setMutingSound(f.inst.isMutingEffect),this.btnSound.node.getChildByName("iconOn").active=!f.inst.isMutingEffect,this.btnSound.node.getChildByName("iconOff").active=f.inst.isMutingEffect},u.touchMusic=function(){f.inst.playTouchButton(),f.inst.isMutingMusic=!f.inst.isMutingMusic,this.getComponent(h).setMutingMusic(f.inst.isMutingMusic),this.btnMusic.node.getChildByName("iconOn").active=!f.inst.isMutingMusic,this.btnMusic.node.getChildByName("iconOff").active=f.inst.isMutingMusic},u.touchPayTable=function(){f.inst.playTouchButton();var t=r.get(M.POPUP_RULES,l);if(null!=t){var n=d(t);this.pnlPopup.addChild(n)}},u.touchClose=function(){f.inst.playTouchButton(),this.node.removeFromParent(),this.node.destroy()},u.touchRealMode=function(){f.inst.playTouchButton(),this.btnRealMode.node.active=!1,this.btnFreeMode.node.active=!0,b.instance.changePlayMode(g.CURRENCY_ID.FUN)},u.touchFreeMode=function(){f.inst.playTouchButton(),this.btnRealMode.node.active=!0,this.btnFreeMode.node.active=!1,b.instance.changePlayMode(g.CURRENCY_ID.FUN)},u.touchExit=function(){f.inst.playTouchButton(),b.instance.exitGame()},n}(p)).prototype,"btnSound",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(S.prototype,"btnMusic",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(S.prototype,"btnRealMode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(S.prototype,"btnFreeMode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(S.prototype,"pnlPopup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=S))||N));u._RF.pop()}}}));

System.register("chunks:///_virtual/WPopupNotify.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts"],(function(t){"use strict";var n,e,o,i,s,u,r,c,l,a;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,r=t.Label,c=t.Button,l=t.Component},function(t){a=t.WAudioManager}],execute:function(){var f,h,p,b,d,y,g,N,v,m,B;s._RF.push({},"d3ebefqw2ZOALU78dmjO08o","WPopupNotify",void 0);var Y=u.ccclass,_=u.property;t("WPopupNotify",(f=Y("WPopupNotify"),h=_(r),p=_(c),b=_(c),d=_(c),f((N=n((g=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),u=0;u<e;u++)s[u]=arguments[u];return n=t.call.apply(t,[this].concat(s))||this,o(n,"lbMessage",N,i(n)),o(n,"btnYes",v,i(n)),o(n,"btnNo",m,i(n)),o(n,"btnClose",B,i(n)),n._functionYes=null,n._functionNo=null,n}e(n,t);var s=n.prototype;return s.start=function(){this.btnClose.node.active=!1},s.setMessage=function(t){this.lbMessage.string=t},s.setFunctionYes=function(t){this._functionYes=t},s.setFunctionNo=function(t){this._functionNo=t},s.showBothButtons=function(){this.btnYes.node.active=!0,this.btnNo.node.active=!0},s.hideBothButtons=function(){this.btnYes.node.active=!1,this.btnNo.node.active=!1,this.btnClose.node.active=!0},s.showYesButtonOnly=function(){this.btnYes.node.active=!0,this.btnNo.node.active=!1},s.setYesButtonTitle=function(t){this.btnYes.node.getChildByName("lbYes").getComponent(r).string=t},s.setNoButtonTitle=function(t){this.btnNo.node.getChildByName("lbNo").getComponent(r).string=t},s.touchBtnYes=function(){a.inst.playTouchButton(),this._functionYes&&this._functionYes(),this.node.removeFromParent()},s.touchBtnNo=function(){a.inst.playTouchButton(),this._functionNo&&this._functionNo(),this.node.removeFromParent()},s.touchClose=function(){a.inst.playTouchButton(),this.node.removeFromParent()},n}(l)).prototype,"lbMessage",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=n(g.prototype,"btnYes",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(g.prototype,"btnNo",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(g.prototype,"btnClose",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=g))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/WReel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WSymbolGroup.ts","./Helper.ts","./Config.ts","./StickyWild.ts","./WSymbol.ts","./WAudioManager.ts"],(function(t){"use strict";var e,i,n,a,s,r,o,u,c,h,l,d,p,f,S,N,b,m,y,_,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.asyncToGenerator,r=t.regeneratorRuntime,o=t.createClass},function(t){u=t.cclegacy,c=t._decorator,h=t.Vec3,l=t.UITransform,d=t.Component},function(t){p=t.WSymbolGroup},function(t){f=t.Helper},function(t){S=t.SPIN_VELOCITY,N=t.BOARD_FORMAT,b=t.WAITING_TIME_BTW_REELS},function(t){m=t.StickyWild},function(t){y=t.WSymbol,_=t.SYMBOL_STATE},function(t){g=t.WAudioManager}],execute:function(){var A,W,I,E,O,R,v,G,k,w,T,P;u._RF.push({},"667aed8iChDBK6LLFZWtMSi","WReel",void 0);var D=c.ccclass,L=c.property,F=t("REEL_STATE",{IDLE:0,SPINNING:1,ON_NEARWIN:2,OFF_NEARWIN_BONUS_AND_STOPPED:3,OFF_NEARWIN_SCATTER_AND_STOPPED:4,OFF_NEARWIN_AND_SPINNING:5,STOP:6}),C=t("GROUP_NAME",{MAIN:0,FAKE:1});t("WReel",(A=D("WReel"),W=L(p),I=L(p),E=L(m),A((v=e((R=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"mainGroup",v,a(e)),n(e,"fakeGroup",G,a(e)),n(e,"stickyWilds",k,a(e)),n(e,"timeToSpin",w,a(e)),n(e,"gotExpandWild",T,a(e)),n(e,"gotStickyWild",P,a(e)),e._data=Object.create(null),e.groups=[],e.done=void 0,e._changeOrderCount=0,e}i(e,t);var u=e.prototype;return u.setState=function(t){this.data.state=t,this.onStateChange()},u.onStateChange=function(){switch(this.data.state){case F.IDLE:this.resetAllSymbols();break;case F.SPINNING:break;case F.ON_NEARWIN:this.setVelocityWithRate(1.5),this.resetAllSymbols();break;case F.OFF_NEARWIN_BONUS_AND_STOPPED:this.setIsOffNWBonusAndStopped();break;case F.OFF_NEARWIN_SCATTER_AND_STOPPED:this.setIsOffNWScatterAndStopped();break;case F.OFF_NEARWIN_AND_SPINNING:this.setIsOffNearwinAndSpinning()}},u.setData=function(t){t&&Object.assign(this._data,t)},u.start=function(){var t,e;this.data.orders=[],this.data.curpos=new h,this.data.increpos=new h,this.data.turboRate=1,!this.data.directionUnit&&(this.data.directionUnit=new h(0,-1,0));var i=null==(t=this.mainGroup)?void 0:t.getComponent(l),n=null==(e=this.fakeGroup)?void 0:e.getComponent(l),a=new h(i.contentSize.width,i.contentSize.height),s=new h(n.contentSize.width,n.contentSize.height);this.data.distance=a.add(s).clone(),this.data.distance.divide3f(2,2,2),this.data.distance.multiply(this.data.directionUnit),this.mainGroup&&(this.groups[C.MAIN]=this.mainGroup),this.fakeGroup&&(this.groups[C.FAKE]=this.fakeGroup),this.data.orders=[C.MAIN,C.FAKE],this.setState(F.IDLE)},u.lateUpdate=function(t){this.data.state!==F.IDLE&&this.data.state!==F.OFF_NEARWIN_BONUS_AND_STOPPED&&this.data.state!==F.OFF_NEARWIN_SCATTER_AND_STOPPED&&this.onLateUpdate()},u.onLateUpdate=function(){var t=s(r().mark((function t(){var e;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.data.orders,this.data.state!=F.STOP){t.next=12;break}if(this.data.spinResult&&this.data.spinResult.length==N[this.data.id]&&(this.mainGroup.setData(this.data.spinResult),console.log("WReel - onLateUpdate - setData - "+this.data.id+": "+this.data.spinResult),this.data.spinResult=[]),1!=this.data.hasChangedOrders||e[0]!=C.MAIN){t.next=12;break}if(this.data.curpos=new h,this.onRender(),this.setState(F.IDLE),!this.hasWild()){t.next=11;break}if(!this.gotStickyWild){t.next=11;break}return t.next=11,this.showStickyWild();case 11:this.done&&(g.inst.playEffect("sfx_reel_bounce",!1),this.done(),this.done=null);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.update=function(t){this.data.state!==F.IDLE&&this.data.state!==F.OFF_NEARWIN_BONUS_AND_STOPPED&&this.data.state!==F.OFF_NEARWIN_SCATTER_AND_STOPPED&&(this.data.increpos=this.data.velocity.clone().multiplyScalar(t),this.data.increpos.multiply(this.data.directionUnit),this.data.curpos.add(this.data.increpos),this.onUpdate(),this.onRender())},u.onUpdate=function(){if(this.data){var t=this.data.curpos,e=this.data.orders,i=this.data.distance,n=i.clone().subtract(t),a=f.isNegative(n,i);return a&&(h.copy(t,n.negative()),e.reverse(),this._changeOrderCount++),this.data.hasChangedOrders=a,!0}},u.onRender=function(){var t,e=this,i=this.data.curpos,n=this.data.orders,a=this.data.distance;i&&this.groups&&this.groups.length&&n.forEach((function(s,r){var o,u=null==(o=e.groups[s])?void 0:o.node;if(u)if(r){var c,h=n[r-1];(null==(c=e.groups[h])?void 0:c.node)&&(t=(t||i.clone()).subtract(a),u.setPosition(t))}else u.setPosition(i)}))},u.spin=function(){var t=s(r().mark((function t(e){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.data.state!=F.IDLE){t.next=10;break}return this._changeOrderCount=0,t.next=4,f.asyncDelay(1*b/this.data.turboRate);case 4:this.data.id=e,this.data.spinResult=[],this.setVelocityWithRate(this.data.turboRate),this.setState(F.SPINNING),this.mainGroup.setStateOfSymbols(_.SPINNING);case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.stop=function(){var t=s(r().mark((function t(){var e=this;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.data.state!=F.SPINNING&&this.data.state!=F.ON_NEARWIN){t.next=3;break}return console.log("STOP SPINNING REEL: "+this.data.id),t.abrupt("return",new Promise((function(t){e.done=t,e.setState(F.STOP),e.mainGroup.setStateOfSymbols(_.STOP)})));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.setVelocityWithRate=function(t){void 0===t&&(t=1),this.data.velocity=new h(0,S,0).multiplyScalar(t)},u.setTurboRate=function(t){void 0===t&&(t=1),this.data.turboRate=t},u.hideAllSymbols=function(){var t=s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainGroup.hideAllSymbols();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.changeAllSymbolsToWild=function(){var t=s(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.mainGroup.changeAllSymbolsToWild();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.showStickyWild=function(){var t=this;return this.hasWild()?(this.mainGroup.symbolsList.forEach(s(r().mark((function e(i,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i&&i.getComponent(y).isWild()&&(t.stickyWilds.stickyWildList[n].node.active||(g.inst.playEffect("sfx_wild_appear"),t.stickyWilds.stickyWildList[n].node.active=!0));case 1:case"end":return e.stop()}}),e)})))),Promise.resolve(console.log("SHOW STICKY WILD DONE"))):Promise.resolve()},u.hasWild=function(){return this.mainGroup.hasWild()},u.bonusSbCount=function(){return this.mainGroup.bonusSbCount()},u.scatterSbCount=function(){return this.mainGroup.scatterSbCount()},u.getId=function(){return this.data.id},u.setIsOffNWBonusAndStopped=function(){this.mainGroup.lowLightSymbols(),this.mainGroup.highLightAllBonusSb()},u.setIsOffNWScatterAndStopped=function(){this.mainGroup.lowLightSymbols(),this.mainGroup.highLightAllScatterSb()},u.setIsOffNearwinAndSpinning=function(){this.mainGroup.lowLightSymbols(),this.fakeGroup.lowLightSymbols()},u.resetAllSymbols=function(){this.mainGroup.resetSymbols(),this.fakeGroup.resetSymbols()},o(e,[{key:"data",get:function(){return this._data}}]),e}(d)).prototype,"mainGroup",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(R.prototype,"fakeGroup",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(R.prototype,"stickyWilds",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(R.prototype,"timeToSpin",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),T=e(R.prototype,"gotExpandWild",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=e(R.prototype,"gotStickyWild",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=R))||O));u._RF.pop()}}}));

System.register("chunks:///_virtual/WReelFeature.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WReel.ts"],(function(e){"use strict";var t,r,n,o,u;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,n=e._decorator,o=e.Component},function(e){u=e.WReel}],execute:function(){var c;r._RF.push({},"963cdZJ0lpAf4BWVYh1CJNc","WReelFeature",void 0);var a=n.ccclass;n.property,n.requireComponent,e("WReelFeature",a("WReelFeature")(c=function(e){function r(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).target=null,t}t(r,e);var n=r.prototype;return n.onLoad=function(){if(this.target=this.node.getComponent(u),!this.target)throw new Error("Need WReel for WReelFeature.")},n.start=function(){},n.update=function(e){},r}(o))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/WRules.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./WNetworkManager.ts","./Helper.ts"],(function(t){"use strict";var e,r,n,a,i,o,s,u,c,l,p,f,h,m,g,d,v,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,a=t.assertThisInitialized,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,c=t.Node,l=t.instantiate,p=t.RichText,f=t.Component},function(t){h=t.JACKPOT_RATE,m=t.W_GAME_ACTION,g=t.GAME_ID,d=t.default},function(t){v=t.WNetworkManager},function(t){y=t.Helper}],execute:function(){var R,k,G,b,A,E,_;s._RF.push({},"79467S1JWlFaJd50T3HuYr3","WRules",void 0);var C=u.ccclass,M=u.property;t("WRules",(R=C("WRules"),k=M(c),G=M(c),R((E=e((A=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i))||this,n(e,"pnlJackpot",E,a(e)),n(e,"jpItem",_,a(e)),e}r(e,t);var s=e.prototype;return s.start=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.jpItem.active=!1,t.next=3,this.requestGetGameBank();case 3:if(null!=(e=t.sent)){t.next=7;break}return console.error("GET GAMEBANK ERROR"),t.abrupt("return",null);case 7:this.addJackpotItem(e);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.addJackpotItem=function(t){if(t.slotDetails&&t.slotDetails.length>0)for(var e=0;e<t.slotDetails.length;e++){var r=t.slotDetails[e].price,n=r*h,a=l(this.jpItem);a.active=!0,a.getChildByName("lbRoomValue").getComponent(p).string=y.formatMoney(r),a.getChildByName("lbJackpot").getComponent(p).string=y.formatMoney(n),this.pnlJackpot.addChild(a)}},s.requestGetGameBank=function(){var t=i(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v.instance.request(m.GET_GAME_BANK,g,d.GAME_CURRENCY_ID.toString());case 3:return e=t.sent,console.log("GET GAME BANK: "+JSON.stringify(e)),t.abrupt("return",e);case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return",null);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),e}(f)).prototype,"pnlJackpot",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(A.prototype,"jpItem",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=A))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/WSpinButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WAudioManager.ts","./GameController.ts","./Helper.ts"],(function(e){"use strict";var n,t,i,o,s,a,r,p,h,l,u,c,S,m,_,b,g,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){r=e.cclegacy,p=e._decorator,h=e.EventHandler,l=e.Button,u=e.Node,c=e.tween,S=e.Vec3,m=e.sp,_=e.Component},function(e){b=e.WAudioManager},function(e){g=e.GAME_STATE},function(e){d=e.Helper}],execute:function(){var v,f,A,E,k,T,I,w,y;r._RF.push({},"a8a916c64xMe5Je7k5nlWwm","WSpinButton",void 0);var C=p.ccclass,M=p.property;e("WSpinButton",(v=C("WSpinButton"),f=M(h),A=M(l),E=M(u),v((I=n((T=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return n=e.call.apply(e,[this].concat(s))||this,i(n,"touchSpinEvent",I,o(n)),i(n,"btnSpin",w,o(n)),i(n,"animSpin",y,o(n)),n._tweenIdle=void 0,n._tweenSpinning=void 0,n._tweenSpinningTurbo=void 0,n._idleRotateTime=6,n._spinningRotateTime=.6,n._state=void 0,n._hovered=!1,n._turboRate=1,n}t(n,e);var r=n.prototype;return r.onEnable=function(){this.btnSpin.node.on(u.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.btnSpin.node.on(u.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},r.onDisable=function(){this.btnSpin.node.off(u.EventType.MOUSE_ENTER,this._onMouseMoveIn,this),this.btnSpin.node.off(u.EventType.MOUSE_LEAVE,this._onMouseMoveOut,this)},r.start=function(){this._tweenIdle=c(this.animSpin).by(this._idleRotateTime,{eulerAngles:new S(0,0,-360)}).repeatForever(),this._tweenSpinning=c(this.animSpin).by(this._spinningRotateTime,{eulerAngles:new S(0,0,-360)}).repeatForever(),this._tweenSpinningTurbo=c(this.animSpin).by(this._spinningRotateTime/2,{eulerAngles:new S(0,0,-360)}).repeatForever()},r.setTurboRate=function(e){this._turboRate=e},r._onMouseMoveIn=function(e){this.enabledInHierarchy&&this._state==g.IDLE&&(this._hovered||(this._hovered=!0,this.setAnimHovered()))},r._onMouseMoveOut=function(e){this._hovered&&(this._hovered=!1,this.onStateChange())},r.touchSpin=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setEnable(!1),b.inst.playOneShot("sfx_spin_button"),this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).timeScale=2,this.animSpin.getComponent(m.Skeleton).setAnimation(0,"click",!1),e.next=7,d.asyncDelay(.5);case 7:this.animSpin.getComponent(m.Skeleton).timeScale=1,this._hovered&&this.setAnimHovered(),this.touchSpinEvent&&this.touchSpinEvent.emit([]);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.updateSpinningSpeed=function(){if(this._state==g.SPINNING){console.warn("updateSpinningSpeed - "+this._turboRate);var e=this._spinningRotateTime;this._turboRate>1&&(e=.3),this._tweenSpinning=c(this.animSpin).by(e,{eulerAngles:new S(0,0,-360)}).repeatForever()}},r.setAnimInit=function(){this.setAnimDisabled(),this._tweenIdle.stop()},r.setAnimDisabled=function(){this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).setAnimation(0,"Disable",!0)},r.setAnimIdle=function(){this._hovered?(this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).setAnimation(0,"hover",!0)):(this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).setAnimation(0,"idle",!0)),this._tweenSpinning.stop(),this._tweenSpinningTurbo.stop(),this._tweenIdle.start()},r.setAnimSpinning=function(){this._hovered?(this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).setAnimation(0,"hover",!0)):(this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).setAnimation(0,"click-idle",!0)),this._tweenIdle.stop(),this._turboRate>1?this._tweenSpinningTurbo.start():this._tweenSpinning.start()},r.setAnimHovered=function(){this.animSpin.getComponent(m.Skeleton).clearTracks(),this.animSpin.getComponent(m.Skeleton).setAnimation(0,"hover",!0)},r.setEnable=function(e){this.btnSpin.interactable=e},r.setState=function(e){this._state=e,this.onStateChange()},r.onStateChange=function(){switch(this._state){case g.INIT:this.setEnable(!1),this.setAnimDisabled();break;case g.IDLE:this.setEnable(!0),this.setAnimIdle();break;case g.WAITING_FOR_DATA:this.setEnable(!1),this.setAnimInit();break;case g.SPINNING:this.setEnable(!1),this.setAnimSpinning();break;case g.SPINNING_AUTO:this.setEnable(!1),this.setAnimInit();break;case g.FINISH_FREE_SPIN:this.setEnable(!1),this.setAnimDisabled()}},n}(_)).prototype,"touchSpinEvent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new h}}),w=n(T.prototype,"btnSpin",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=n(T.prototype,"animSpin",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/WSymbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Helper.ts"],(function(t){"use strict";var e,i,n,r,a,o,s,u,h,c,l,p,f,g,m,y,v,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,a=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){s=t.cclegacy,u=t._decorator,h=t.CCInteger,c=t.Sprite,l=t.SpriteFrame,p=t.Prefab,f=t.sp,g=t.Component,m=t.Color,y=t.instantiate},function(t){v=t.SYMBOL_TYPE},function(t){d=t.Helper}],execute:function(){var b,x,S,W,w,A,L,_,T,I,k,P,C,N,V,D,z;s._RF.push({},"d93adSPWLxMi5htpCI/Jq7X","WSymbol",void 0);var E=u.ccclass,H=u.property,R=t("SYMBOL_STATE",{IDLE:0,SPINNING:1,STOP:2,SHOW_RESULT:3});t("WSymbol",(b=E("WSymbol"),x=H(h),S=H(h),W=H(c),w=H(l),A=H(l),L=H(p),_=H(f.Skeleton),b((k=e((I=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"index",k,r(e)),n(e,"type",P,r(e)),n(e,"image",C,r(e)),n(e,"resourceList",N,r(e)),n(e,"blurList",V,r(e)),n(e,"highlightAnims",D,r(e)),n(e,"highlightVfx",z,r(e)),e._animWin=null,e._state=void 0,e}i(e,t);var s=e.prototype;return s.setState=function(t){this._state=t},s.start=function(){this.highlightVfx.node.active=!1,this.highlightVfx.clearTracks()},s.setType=function(t){void 0===t&&(t=-1),this.node.active=!0;var e=this.getAvailableSbTypes();this.type=-1!=t?t:e[d.randomRange(0,e.length-1)],this.image.spriteFrame=this.resourceList[this.type]},s.getType=function(){return this.type},s.setIndex=function(t){void 0===t&&(t=-1),this.index=t},s.getIndex=function(){return this.index},s.reset=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.image.node.active=!0,this.image.getComponent(c).color=m.WHITE,this.removeAllAnimations(),t.next=6,d.asyncDelay(.2);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.hightLight=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=1),this.image.getComponent(c).color=m.WHITE,this._state!=R.SPINNING){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return t.next=7,d.asyncDelay(e);case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.hightLightWithVfx=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=1),this.image.getComponent(c).color=m.WHITE,this.highlightVfx.node.active=!0,this.highlightVfx.setAnimation(0,"Sprite",!0),this._state!=R.SPINNING){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.next=9,d.asyncDelay(e);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.highLightWithAnim=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=1),this.highlightAnims[this.type]&&null==this._animWin&&(this.image.node.active=!1,this._animWin=y(this.highlightAnims[this.type]),this.node.addChild(this._animWin)),t.next=4,d.asyncDelay(e);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.highLightWithVfxAndAnim=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=1),this.hightLightWithVfx(),this.highLightWithAnim(),t.next=5,d.asyncDelay(e);case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.lowLight=function(){var t=a(o().mark((function t(e){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=1),this.image.getComponent(c).color=m.GRAY,this.image.node.active=!0,this.removeAllAnimations(),this._state!=R.SPINNING){t.next=7;break}return t.abrupt("return",Promise.resolve());case 7:return t.next=9,d.asyncDelay(e);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.removeAllAnimations=function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._animWin?(this._animWin.removeFromParent(),this._animWin.destroy(),this._animWin=null,this.highlightVfx.node.active=!1,this.highlightVfx.clearTracks()):(this.highlightVfx.node.active=!1,this.highlightVfx.clearTracks());case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onStateChange=function(t){},s.isWild=function(){return this.type==v.WILD},s.isBonus=function(){return this.type==v.BONUS},s.isScatter=function(){return this.type==v.SCATTER},s.getAvailableSbTypes=function(){var t=[];return this.resourceList.forEach((function(e,i){e&&t.push(i)})),t},e}(g)).prototype,"index",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=e(I.prototype,"type",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=e(I.prototype,"image",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=e(I.prototype,"resourceList",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(I.prototype,"blurList",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D=e(I.prototype,"highlightAnims",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),z=e(I.prototype,"highlightVfx",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=I))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/WSymbolGroup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./Helper.ts","./WSymbol.ts"],(function(t){"use strict";var n,e,o,r,i,s,a,c,u,l,f,m,h,p;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized,i=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){a=t.cclegacy,c=t._decorator,u=t.Node,l=t.instantiate,f=t.Component},function(t){m=t.SYMBOL_TYPE},function(t){h=t.Helper},function(t){p=t.WSymbol}],execute:function(){var b,y,g,S,d,v,L;a._RF.push({},"661fdV59ZJOw6qqif5qmPSv","WSymbolGroup",void 0);var w=c.ccclass,C=c.property;t("WSymbolGroup",(b=w("WSymbolGroup"),y=C(u),b((d=n((S=function(t){function n(){for(var n,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,o(n,"isMain",d,r(n)),o(n,"numberOfSymbol",v,r(n)),o(n,"symbol",L,r(n)),n.symbolsList=[],n}e(n,t);var a=n.prototype;return a.onLoad=function(){},a.start=function(){this.initSymbols()},a.initSymbols=function(){for(var t=0;t<this.numberOfSymbol;++t){var n=l(this.symbol);this.node.addChild(n),this.symbolsList.push(n);var e=n.getComponent(p);e&&e.setType()}},a.setData=function(t){this.symbolsList.forEach((function(n,e){if(n){var o=n.getComponent(p);o&&o.setType(t[e])}}))},a.setStateOfSymbols=function(t){this.symbolsList.forEach((function(n){n.getComponent(p).setState(t)}))},a.hasWild=function(){return this.symbolsList.findIndex((function(t){return t.getComponent(p).isWild()}))>-1},a.bonusSbCount=function(){var t=0;return this.symbolsList.forEach((function(n){n.getComponent(p).isBonus()&&t++})),t},a.scatterSbCount=function(){var t=0;return this.symbolsList.forEach((function(n){n.getComponent(p).isScatter()&&t++})),t},a.hideAllSymbols=function(){return this.symbolsList.forEach(i(s().mark((function t(n,e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}return t.next=3,h.fadeOutPromise(n,.2);case 3:n.active=!1;case 4:case"end":return t.stop()}}),t)})))),Promise.resolve()},a.changeAllSymbolsToWild=function(){var t=i(s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.hasWild()){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return n=[],this.symbolsList.forEach(i(s().mark((function t(e,o){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&(e.getComponent(p).setType(m.WILD),n.push(h.fadeInPromise(e,.2)));case 1:case"end":return t.stop()}}),t)})))),t.next=6,Promise.all(n);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.lowLightSymbols=function(){this.symbolsList.forEach(i(s().mark((function t(n,e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&n.getComponent(p).lowLight();case 1:case"end":return t.stop()}}),t)}))))},a.resetSymbols=function(){this.symbolsList.forEach(i(s().mark((function t(n,e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n&&n.getComponent(p).reset();case 1:case"end":return t.stop()}}),t)}))))},a.highLightAllBonusSb=function(){this.symbolsList.forEach((function(t){var n=t.getComponent(p);n.isBonus()&&n.highLightWithAnim()}))},a.highLightAllScatterSb=function(){this.symbolsList.forEach((function(t){var n=t.getComponent(p);n.isScatter()&&n.highLightWithAnim()}))},n}(f)).prototype,"isMain",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=n(S.prototype,"numberOfSymbol",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),L=n(S.prototype,"symbol",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=S))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/WTotalPrize.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CountingNumberSimple.ts"],(function(t){"use strict";var e,o,i,r,n;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t._decorator,r=t.Component},function(t){n=t.CountingNumberSimple}],execute:function(){var a;o._RF.push({},"06396WlxS9La5mFwEfVPiiC","WTotalPrize",void 0);var l=i.ccclass;i.property,t("WTotalPrize",l("WTotalPrize")(a=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).totalPrize=0,e}e(o,t);var i=o.prototype;return i.onLoad=function(){this.updateTotalPrize(0)},i.updateTotalPrize=function(t){this.totalPrize=t,this.setTotalPrizeLabel()},i.setTotalPrizeLabel=function(){this.getComponent(n).updateTargetValue(this.totalPrize),this.getComponent(n).startCounting(.2)},i.getTotalPrize=function(){return this.totalPrize},o}(r))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/WUserInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CountingNumberSimple.ts","./Config.ts"],(function(t){"use strict";var e,n,a,i,o,r,s,l,u,c,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass},function(t){r=t.cclegacy,s=t._decorator,l=t.Label,u=t.Component},function(t){c=t.CountingNumberSimple},function(t){d=t.ROOM_VALUE}],execute:function(){var p,b,h,f,m,g,C,y,B;r._RF.push({},"c42d58HuE5Cn4oyClaqxi3r","WUserInfo",void 0);var I=s.ccclass,L=s.property;t("WUserInfo",(p=I("WUserInfo"),b=L(l),h=L(l),f=L(l),p((C=e((g=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,a(e,"lbBalance",C,i(e)),a(e,"lbBet",y,i(e)),a(e,"lbLines",B,i(e)),e._data=Object.create(null),e}n(e,t);var r=e.prototype;return r.setData=function(t){t&&Object.assign(this._data,t)},r.onLoad=function(){this.updateBalance(0),this.updateLines(0),this.updateRoomId(0)},r.updateBalance=function(t){this.data.balance=t,this.lbBalance.getComponent(c).updateTargetValue(this.data.balance),this.lbBalance.getComponent(c).startCounting(.2)},r.updateRoomId=function(t){this.data.roomId=t,d[t]?this.data.betAmount=this.data.lines*d[t]:this.data.betAmount=0,console.log("UPDATE ROOMID: "+t+" - "+this.data.betAmount),this.lbBet.getComponent(c).updateTargetValue(this.data.betAmount),this.lbBet.getComponent(c).startCounting(.2)},r.updateLines=function(t){this.data.lines=t,d[this.data.roomId]?this.data.betAmount=this.data.lines*d[this.data.roomId]:this.data.betAmount=0,this.lbLines.getComponent(c).updateTargetValue(this.data.lines),this.lbLines.getComponent(c).startCounting(.2)},r.updateSlotNumber=function(t){this.data.slotNumber=t},o(e,[{key:"data",get:function(){return this._data}}]),e}(u)).prototype,"lbBalance",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(g.prototype,"lbBet",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=e(g.prototype,"lbLines",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/WWinAmount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CountingNumberSimple.ts","./Helper.ts"],(function(t){"use strict";var n,e,r,o,i,u,s,c;return{setters:[function(t){n=t.inheritsLoose,e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){o=t.cclegacy,i=t._decorator,u=t.Component},function(t){s=t.CountingNumberSimple},function(t){c=t.Helper}],execute:function(){var a;o._RF.push({},"3842aDLJPBHUbBXHY5fEd9G","WWinAmount",void 0);var p=i.ccclass;i.property,t("WWinAmount",p("WWinAmount")(a=function(t){function o(){return t.apply(this,arguments)||this}n(o,t);var i=o.prototype;return i.start=function(){},i.startCounting=function(t,n){this.reset(),this.getComponent(s).updateTargetValue(t),this.getComponent(s).startCounting(n)},i.reset=function(){this.getComponent(s).reset()},i.hide=function(){this.node.active=!1,this.reset()},i.show=function(){c.fadeIn(this.node,0)},i.hideWithFade=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),t.next=3,c.fadeOutPromise(this.node,n);case 3:this.hide();case 4:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i.showWithFade=function(){var t=e(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=0),c.fadeIn(this.node,n);case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),i.showWithScale=function(){c.fadeIn(this.node,0),c.animateScaleUp(this.node,1.5,void 0,1,0)},i.touchSkipCounting=function(){var t=e(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("CoutingNumber - touchSkipCounting"),t.next=3,c.asyncDelay(.5);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o}(u))||a);o._RF.pop()}}}));
